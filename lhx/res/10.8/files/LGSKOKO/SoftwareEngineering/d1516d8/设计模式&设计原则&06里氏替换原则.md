# 06里氏替换原则

### （1）概念

​	里氏替换原则针对的对象是具有继承关系的子类和父类。
​	里氏替换原则的定义是：只要父类出现的地方子类就可以出现，而且将其替换为子类也不会产生任何出错或者异常。
​	子类必须完全实现父类的方法（方法不能为空）。即父类的方法必须是子类全部需要的，如果不是全部需要的，就违背了LSP原则。
​	在类中调用其他类时必须使用父类或者接口，如果不使用父类或者接口，则类的设计违背了LSP原则。

### （2）举例

 **某公司有普通用户和vip用户，他们发邮件的过程如下：**

![里氏替换图](https://raw.github.com/LGSKOKO/SoftwareEngineering/master/设计模式/img/里氏替换图1.png)

​	**分析发现普通用户和vip用户发邮件的过程是相同的，即两个send()方法重复。将来还可能增加用户新类型，为了让系统具有更好的扩展性，使用里氏替换原则进行重构：** 

![里氏替换图](https://raw.github.com/LGSKOKO/SoftwareEngineering/master/设计模式/img/里氏替换图2.png)

### （3）总结

-  子类必须完全实现父类的方法（方法体不为空）,子类可以有自己特有的方法；
-  子类对父类的方法进行重写时必须遵守 “一大两小两相同的原则”：
-  一大：子类的访问权限只能比父类大或者相同
-  两小：抛出异常和返回值只能变小，能够转型成父类对象，即异常和返回值是父类中异常和返回值的子类，或者和父类中的异常和返回值一样。
-  两同：方法名和参数必须要完全一致，因为JVM中方法名和参数是标识方法的唯一标志。
-   当然如果在编程过程中违反了LSP原则在运行时也不会出现什么问题，但是会遗留下很多潜在的问题会给以后的变更、维护工作造成很大的困难。 