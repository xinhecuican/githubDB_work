# 02依赖倒置原则

### （1）概念

​	高层模块不应该依赖底层模块，二者都应该依赖其抽象；抽象不应该依赖细节，细节应该依赖抽象；实现类之间不发生直接的依赖关系，其依赖关系是通过接口或者抽象类产生的，即面向接口编程，不针对实现编程。
实现类依赖接口或者抽象类，而接口或者抽象类不依赖于实现类。

### （2）举例

**司机开奔驰车的类图如下：**

![依赖倒置图](https://raw.github.com/LGSKOKO/SoftwareEngineering/master/设计模式/img/依赖倒置图1.png)

现在司机不仅要开奔驰，要开宝马车。但司机driver只有开奔驰的方法，而没有开动宝马车的方法啊，这就不合理了。这里只是增加了一个车类就要修改司机类，这是不稳定的、易变的。
**引用依赖倒置原则，采用面向接口编程的思想设计类图如下：**

![依赖倒置图](https://raw.github.com/LGSKOKO/SoftwareEngineering/master/设计模式/img/依赖倒置图2.png)

### （3）总结

- 依赖倒置原则的本质就是通过抽象（接口或抽象类）使各个类或模块的实现彼此独立，不相互影响，实现模块间的松耦合。
- 每个类应该尽量都有接口或者抽象类，或者两者都有。
- 变量的表面类型尽量是接口或者抽象类。
- 依赖倒置原则使类之间不存在依赖关系，可以进行独立的并行开发，而且两个类的单元测试也可以独立地运行。
- 优点：可以减少类间的耦合性、提高系统的稳定性，提高代码的可读性和可维护性，降低修改程序造成的风险。


