4b94140a39c40c44fa67fbc8ea38b332c665dbe5,,372515533,58283665,58283665,2021-05-31,try
789252e7482622ccd4a125e110e10ca287a9442a,4b94140,372515533,58283665,58283665,2021-06-01,try
d0ced639fc20c604c2b1c9994cf3d75cdd429ba2,789252e,372515533,58283665,58283665,2021-06-03,完成了获取部分屏幕
6bd8fa0a366d5342da8205525d7f9c59b3431eb1,d0ced63,372515533,58283665,58283665,2021-06-06,完成config类
4ffbe43b004cdf835d3f7a9a9e6fb5b9e5404b22,6bd8fa0,372515533,58283665,58283665,2021-06-23,截图区域基本完成，各个manager有待完善。截图区域还需要完成删除区域，确定按钮等
42edacea24d7298b7688efe69f6664872d826b9b,4ffbe43,372515533,58283665,58283665,2021-07-03,截图区域完成
b83dcc58300b637a1e7bbe5f24d661267e118493,42edace,372515533,58283665,58283665,2021-07-07,绘制窗口框架完成
f8bc36f989ddaa67ec51befcc56e52c0646851a0,b83dcc5,372515533,58283665,58283665,2021-07-11,保存及历史记录完成，层次管理部分完成
81186ca46330b2c342d6faf87d2f791ae6fa4226,,372515533,58283665,58283665,2021-07-15,first commit
73a7f4889c12d14427ac5a95074fb9404f1a5885,81186ca,372515533,58283665,58283665,2021-07-15,temp
3cdd73978e6c9a85b327598853a42dc0e5897661,73a7f48,372515533,58283665,58283665,2021-07-15,tmep
141659142f4e222543bdb0fa919f90faa9e67f9f,f8bc36f,372515533,58283665,58283665,2021-07-15,"temp

first commit

temp

tmep"
2783bd5db63b3f34c3606bd7bb5f8d2cf80b876a,1416591,372515533,58283665,58283665,2021-07-15,完成了大部分截图模式
a74b1079e4d19d5d9c989167a85f953f748e301a,3cdd739,372515533,58283665,58283665,2021-07-16,temp
172a1540c92f793ec50da1da8de30204af1c1667,2783bd5,372515533,58283665,58283665,2021-07-22,更新功能测试
3c36e23a16f53ce93fcb2ad8e81a01bb69f235b0,172a154,372515533,58283665,58283665,2021-07-22,temp
68ad530d2a591a177230c211771a9ce20c925602,3c36e23,372515533,58283665,58283665,2021-07-23,更新完成
8d71aa3737d235196ccb39faa72c968c34f1863c,68ad530,372515533,58283665,19864447,2021-07-24,"readme

readme"
3a1c9839914d5be5177e6be9b9673e263e919486,8d71aa3,372515533,58283665,19864447,2021-07-24,Create README.md
866c493ea8c3a2a7eeb4339ef6f89ede8beb6750,3a1c983,372515533,58283665,19864447,2021-07-24,Delete read.md
89e830d22af6cf60cb051146e589801c8a643889,866c493,372515533,58283665,19864447,2021-07-26,Create LICENSE
e4916d1a0eb08ee0a1e836f9edebad124a17febe,866c493,372515533,58283665,19864447,2021-07-26,"Merge pull request #1 from xinhecuican/add-license-1

Create LICENSE"
2c83565e0573020f193d0586c261eaa24189d25b,e4916d1,372515533,58283665,19864447,2021-07-27,Update README.md
0bd166c3e125cb06102b6414e24be36ef1600c7e,68ad530,372515533,58283665,58283665,2021-08-29,滚动截屏完成
baf8cb5d461777953129fccd1e6b8806a23057f2,0bd166c,372515533,58283665,58283665,2021-08-31,修复一些错误，更正开机自启（开机自启是默认目录会改变，导致相对路径出错）
0d3516cbb27408d51c49a06870aa7ed81bae2c68,baf8cb5,372515533,58283665,58283665,2021-08-31,"Merge branch 'master' of github.com:xinhecuican/easy-capture
temp"
a1ef563213ce644ea0acb4129789420cca83c3d5,0d3516c,372515533,58283665,19864447,2021-09-01,Update README.md
bcb01edeb7a1ad54ba8f9abc85bd92dd91ea1ec1,a1ef563,372515533,58283665,19864447,2021-09-08,Update README.md
7e31d20f658ce75a4af7cd25a7006ca226b1042d,0d3516c,372515533,58283665,58283665,2021-09-10,record重构尝试
e7dbe07ac62e7f56d6ee8cec01f79374700ed571,7e31d20,372515533,58283665,58283665,2021-09-11,paint_area 重构准备
2eabff60fb48e214f9c287ee470f2e70940c774d,e7dbe07,372515533,58283665,58283665,2021-09-11,"Merge branch 'master' of github.com:xinhecuican/easy-capture
begin"
c8e249613899fee61140db216ff08cd7ce892e08,2eabff6,372515533,58283665,58283665,2021-09-11,text_layer基本功能完成
2ec2edc272423268277090e5ea7d60826554cddd,c8e2496,372515533,58283665,58283665,2021-09-12,temp
068f9bf24df92e5afe828126447ae369d21f8067,2ec2edc,372515533,58283665,58283665,2021-09-13,修复保存时保存图片边框的问题
d89684ad758a4e8c8bee8b75806ad57c844559a6,068f9bf,372515533,58283665,58283665,2021-09-17,若干修复
aed08071481a631f48cbb2f163f0b56c51b2a09b,d89684a,372515533,58283665,19864447,2021-09-17,Update issue templates
6ad223d8bf6e9132903f35bb8c373d5c5c24ef0e,d89684a,372515533,58283665,58283665,2021-09-24,text_layer完善，内存占用减小
2ff2ae8cc8ff772526ab8b1a4278cd4591eb25b0,6ad223d,372515533,58283665,58283665,2021-09-24,Merge branch 'master' of github.com:xinhecuican/easy-capture
c0b04899b3acce786b57ddbe6b9647af62401dc9,2ff2ae8,372515533,58283665,58283665,2021-10-05,bug修复，自定义标题栏
50beb1243176d158ea7c299728c14b9c588c76c8,,372515533,58283665,19864447,2021-05-31,Initial commit
81186ca46330b2c342d6faf87d2f791ae6fa4226,,386151120,58283665,58283665,2021-07-15,first commit
73a7f4889c12d14427ac5a95074fb9404f1a5885,81186ca,386151120,58283665,58283665,2021-07-15,temp
3cdd73978e6c9a85b327598853a42dc0e5897661,73a7f48,386151120,58283665,58283665,2021-07-15,tmep
a74b1079e4d19d5d9c989167a85f953f748e301a,3cdd739,386151120,58283665,58283665,2021-07-16,temp
28456deedccd5ca4c2117bf4259bb1062d3e6d64,,280409196,58283665,58283665,2020-07-17,程序窗口
13f233a09098cfc8da4f58911370ac71c8a6e9c7,28456de,280409196,58283665,58283665,2020-07-17,程序窗口
8053953112aecf3153cb2671ee81f0d0a8bc0ae6,13f233a,280409196,58283665,58283665,2020-08-04,"Revert ""程序窗口""

This reverts commit 28456dee"
4ad5cdf2cb5d77a411ea00158bf894d5ec55820a,,360873832,58283665,58283665,2021-04-23,first commit
1d0ba53e8ad68dcb9582593d98f72c2d160369f7,4ad5cdf,360873832,58283665,58283665,2021-04-25,picture
13e0bf843448c36a86ead3653905c03950025bf7,1d0ba53,360873832,58283665,58283665,2021-04-26,second
b71b07d1abc5bf7b160f602b10bdb0a57d9b3dc3,13e0bf8,360873832,58283665,58283665,2021-04-26,anime
0ab3f6445d27a0446d6a1982a40d6d758be58ba3,b71b07d,360873832,58283665,58283665,2021-04-26,nature
2e8e7991e9fff59260ed1cbd02112d6b4a3a8310,0ab3f64,360873832,58283665,58283665,2021-04-26,anime
bde318185a2ed897d3f9346121b355cab40bb216,2e8e799,360873832,58283665,58283665,2021-04-26,sea
6b7defb37d5b56eff4ae82d293bc47036b20f3dd,bde3181,360873832,58283665,58283665,2021-04-28,rename
ec602693c555de6a49eaf24c888a98c07191df4d,6b7defb,360873832,58283665,58283665,2021-04-28,technology
78536095782fce58989c93a1d62369fa3be5b8d1,ec60269,360873832,58283665,58283665,2021-04-30,future city
8b71ef8ef138ef9c276757190ad47826aaea3046,7853609,360873832,58283665,58283665,2021-05-16,beautiful
5e2b0c6e03966ad3f358da4f22aa34aa3fc0a578,8b71ef8,360873832,58283665,58283665,2021-05-22,animal
ddd42ba750b373ee47fe649a870004cd13f4754a,5e2b0c6,360873832,58283665,58283665,2021-07-22,easy capture version 0.0.1
630d3ddf3486fdf4a1999ff00e8f9b61bab1fb30,ddd42ba,360873832,58283665,58283665,2021-07-22,0.0.1
fc6d70bf02d1e3fb5b4acdccc074a74fbf6c25a7,630d3dd,360873832,58283665,58283665,2021-07-22,0.0.1
2420f4c267d0a183ed2197661f3c2406cf612320,fc6d70b,360873832,58283665,58283665,2021-07-22,0.0.1
8813d10bda45828ba81e850b86900041b022e962,2420f4c,360873832,58283665,58283665,2021-07-22,0.0.1
e474f3ebff061213ddf144ed9ffcc4c84ee07dbe,8813d10,360873832,58283665,58283665,2021-08-31,easycapture 0.2.0
4eb533e2222822605aa5ebb16e8e5081946295d5,e474f3e,360873832,58283665,58283665,2021-08-31,easy capture 0.2.1
994d63d5db79a3300bc907d5f1917c5aa28b43cb,4eb533e,360873832,58283665,58283665,2021-09-01,easy capture 0.2.2
ebd9c12d0a979a51744fc53049686621f098e030,994d63d,360873832,58283665,58283665,2021-09-13,easy capture0.2.3
357ee243d7945b9e3cf9a480fb5f529208372f0f,ebd9c12,360873832,58283665,58283665,2021-09-13,0.2.3
239427a9d2eebc4fb542f2ebeeedaecc24a6b917,357ee24,360873832,58283665,58283665,2021-09-17,0.2.4
8dcf80c487fb0d360e12ab370829fe28684c8490,239427a,360873832,58283665,58283665,2021-09-24,v0.3.0
3f8950a15fa961e6c4f37bbadddfcb66faf57ba2,8dcf80c,360873832,58283665,58283665,2021-09-29,v0.3.1
8fe61caab4d8321db8500cdc086c6fe128534734,,323038495,58283665,19864447,2020-12-20,Initial commit
08bed4c7296f274f26862c9cabf05364f74fa5c9,8fe61ca,323038495,58283665,58283665,2020-12-21,try
ff5346a8219aed4d20cd6a2e2dfede2320f64cca,08bed4c,323038495,58283665,58283665,2020-12-23,try
e807667c481b8af832f0a23a38d8616c20c807a0,ff5346a,323038495,58283665,58283665,2020-12-28,a message
38c38d48c8af2ada24792665969bdb29589a2bf6,e807667,323038495,58283665,58283665,2020-12-31,message
ac650b55e72ec7614a7ac7cbee7f2348dc8a921c,38c38d4,323038495,58283665,58283665,2021-01-01,初步完成
2c8e8c92cc4ab83e7162186db20ba697637c4977,ac650b5,323038495,58283665,58283665,2021-01-02,small change
c98274190c55c01309f0599adbeeb9db32139437,2c8e8c9,323038495,58283665,58283665,2021-01-03,small change
bdccab017fe19ec8ef14f2a2647cf3d5aa84ab6b,c982741,323038495,58283665,58283665,2021-01-03,small change
c9ad876daa41eb5b7270ea19941fd7edb0335a18,bdccab0,323038495,58283665,58283665,2021-01-05,1.0.1
a5c78eb61c62be215512f9a20f46f4216d45286e,c9ad876,323038495,58283665,58283665,2021-01-06,1.0.2
c12c26357aa927851ef4aa2be72e55d608febcb4,a5c78eb,323038495,58283665,58283665,2021-01-11,1.1.0
5e00cd38d273e373cbda7ec46b82439bd24d64d1,c12c263,323038495,58283665,58283665,2021-01-13,1.1.0
077cd8401ef9a8e9270ca7f0aab959b5ddbbbe43,5e00cd3,323038495,58283665,58283665,2021-01-17,1.1.1
3d580be84a2cb69747dc925328cf32900dcc5943,077cd84,323038495,58283665,58283665,2021-01-19,1.1.1
78cbe686ef4b89ee60c863efdc5ce32432a397bc,3d580be,323038495,58283665,58283665,2021-01-22,1.1.2
a5ca5d169c5b6a39a866f54336dda1bf9fa90869,78cbe68,323038495,58283665,58283665,2021-01-24,1.1.2
8906a8431b7cca54739e3ccae5db8f4bce5b0fbf,a5ca5d1,323038495,58283665,58283665,2021-02-01,1.1.3
9bcb6ace38da806ee45f8168b2c5d2ba35c18c66,8906a84,323038495,58283665,58283665,2021-02-10,1.1.3
2fbd1dc032934e599e3ddd7fa61143a5cf50250f,9bcb6ac,323038495,58283665,58283665,2021-02-24,1.2.0
baa3cdfe3f9fbfca54033bde88856d4d6b52d147,2fbd1dc,323038495,58283665,58283665,2021-02-25,1.2.0
227a977413c9a4389e13704ac745c23267c15975,baa3cdf,323038495,58283665,58283665,2021-03-12,1.2.1
76dc14b48edf7ef7ba92e07e45ad301aad3155b7,227a977,323038495,58283665,58283665,2021-03-13,1.2.1
54d642e4854a3951d0ee5537df1900f908881037,,349337159,58283665,58283665,2021-03-18,initial commit
985894414eb13201e56a6aed46cf058b2f4572b7,54d642e,349337159,58283665,58283665,2021-03-18,initial commit
6355a24c521b4ca2a3c668676286ba97989be52e,9858944,349337159,58283665,58283665,2021-03-19,完成了发送接收功能
8bdc723816e58a0478a2dcf02695ab671da60411,6355a24,349337159,58283665,58283665,2021-03-21,temp
e8eb77fa8aaedf556b006f33b9911898e129cdbb,8bdc723,349337159,58283665,58283665,2021-03-24,完成了注册登录
42166c6efc2ef95e1046f2810e27a6b4728ca43b,e8eb77f,349337159,58283665,58283665,2021-03-27,完成了群聊
eb5bde8f47795615e82aab5da4c40196f589fd89,42166c6,349337159,58283665,58283665,2021-03-30,channel尝试（多线程时会有问题）
a6e9c7e24fe70d469a9b675fadc699c1f579a86d,eb5bde8,349337159,58283665,58283665,2021-04-05,文件传输与语音聊天完成
901ed12994c3653b4564ef1d327026a120b26ee4,a6e9c7e,349337159,58283665,58283665,2021-04-05,文件传输与语音聊天完成
d00cbf4d71ef0a09df6d3ae9c0b3d171272904e9,901ed12,349337159,58283665,58283665,2021-04-17,流量测试
f571ad0b6d1bd1e491a4266bf7be7a993a941bb0,,269134766,47697490,19864447,2020-06-03,Initial commit
bc15520e600bf3ab06048ac6e7151ed6d2eff6f0,f571ad0,269134766,47697490,19864447,2020-06-03,Add files via upload
2c8fa0e26a2bd1caf204e41636b1418d6b569131,bc15520,269134766,47697490,19864447,2020-06-05,Update README.md
2683e0aeddc02147b4ace61f84f3da21776ec5fa,,258521680,,,2020-04-24,first commit
0d85f28a94cd6dec10811c32e768a907b56334f7,,353786335,47697490,47697490,2021-04-01,first commit
315bc8c2c23030df5182b1dc67edc988a96c57ca,0d85f28,353786335,47697490,19864447,2021-04-01,Create README.md
cdce72c68f2375707c508cc25a3cb0a994657684,315bc8c,353786335,47697490,19864447,2021-04-02,Update README.md
a9be9c6c25a14d59184fa4a2c0245d8239d9f9e4,,258532266,47697490,19864447,2020-04-24,Initial commit
ab22b4d95bbb1cf29195e38387ee988f63e3e621,a9be9c6,258532266,47697490,19864447,2020-04-24,Add files via upload
6c5fd16e85b3d9ed7e1a5b1d9ea15a6d6398465c,ab22b4d,258532266,47697490,19864447,2021-05-27,Delete README.md
41e1395f26463072b9c61a7eb4cb6183a1d0535a,,259435094,,,2020-04-27,first commit
1ca6c289b362bad7f80027b216c93059e3e61ce2,41e1395,259435094,47697490,19864447,2020-04-29,Update responsive.css
bdae3ef0345978deb241069519088b6233d1d9fc,,334636728,47697490,47697490,2021-01-31,first commit
b79ebde134ce470cd83f7e1e6e9102794206d7a1,bdae3ef,334636728,47697490,47697490,2021-02-17,second commit
97e00d087ae0654971159d0d605069846b8aa9fd,b79ebde,334636728,47697490,47697490,2021-02-17,Added some sources data collect
5325eb14a78888928e00ccf60d9160e0ab7e4822,97e00d0,334636728,47697490,47697490,2021-02-17,Added some sources data collect
efb91062657dbe488dbc19410c588454ce813df9,,245696309,,,2020-03-07,first commit
0151dec323b1f1b09552b54de6748499f1bb7025,efb9106,245696309,,,2020-03-07,first commit
f513cfcf3ae358bc695ae56a6117ff289217143a,,337766486,47697490,47697490,2021-02-10,first commit
90629a959c777207dc75a826c14ba7210780228e,f513cfc,337766486,47697490,47697490,2021-02-10,first commit
493eded91bd9776ef857345c5893356e7be4cef7,90629a9,337766486,47697490,19864447,2021-02-10,Create gitattributes
ca1c1ec2af51e4c340d3394c43cfbad4a4e9216b,493eded,337766486,47697490,19864447,2021-02-10,Create .gitattributes
8a32e3854cad4f91ffe66d90d0260971998a9fea,ca1c1ec,337766486,47697490,19864447,2021-02-11,Create README.md
917ae9c290859a92b98ea4d2ab8e2828142c494a,8a32e38,337766486,47697490,19864447,2021-02-11,Update README.md
9957edd4cd785d81e2b2540dd947d907957cd1ea,917ae9c,337766486,47697490,19864447,2021-02-11,first
ec3ea26b1731bde4fc27c8fc010d7b9b2a0d671b,9957edd,337766486,47697490,19864447,2021-02-11,se
8214050fc1fb5037ded11103a3245873ae52a124,ec3ea26,337766486,47697490,19864447,2021-02-11,Delete .gitattributes
097d3ddae4099c5af1f3f09412b2ff4ddae729c9,8214050,337766486,47697490,19864447,2021-02-11,last commit one day
f360e1d032f432e0187dcef71b3d50b187cfa0ff,097d3dd,337766486,47697490,19864447,2021-02-11,Delete gitattributes
45f8ec9dbdba787bac39b0a647e3bec1bf600973,,282416210,,,2020-07-25,first commit
e2798216cd673e1cb5cf5a4915d6282b36d25cfd,45f8ec9,282416210,47697490,19864447,2021-02-20,Update README.MD
f85be59b2070c851045a3ca55d91c1c71e75e148,,360868009,47697490,47697490,2021-04-23,first commit
25c2c6c6e5c4d8a8c2f8c44e86d70df118333917,f85be59,360868009,47697490,19864447,2021-04-23,Update README.md
7cde4f444dac7c8895a6bf9faf46a4083e0322e8,,332870449,52544148,52544148,2021-01-25,first commit
f460cf070c240d1e876fc16c022f72e3f816d1bb,7cde4f4,332870449,52544148,52544148,2021-01-25,script completed and tested
898cc85e928cc70cb7a0e9d949d959d022a8e50c,f460cf0,332870449,52544148,52544148,2021-01-25,file format changed to sql
817c81ac7240ed745ba44f815fb2bbfc185a9906,,332871133,52544148,52544148,2021-01-25,first commit
f540bf138c9304c744dcf43814296b9f340b41b1,817c81a,332871133,52544148,52544148,2021-01-26,task completed
278e76b804e68ea66b7de26f97a0fda639570d95,f540bf1,332871133,52544148,52544148,2021-01-26,remove unnessary code
98bd76c67afd9b96a520f2b5a8b89f89cd42fb80,278e76b,332871133,52544148,52544148,2021-01-26,update readme
64cd55821b35e8c85308fabad69ddb3124895310,98bd76c,332871133,52544148,52544148,2021-01-26,add url in readme file
2db996801cbe660416ad9128784f4837673fb243,,347445373,52544148,52544148,2021-03-13,push code to server
139e4c34fbf519c29466bae8fe3889fd8bfddff8,,378580673,69310992,19864447,2021-06-20,Add files via upload
b93a0a2b431e02ef595cd77c4e6a849725571cc1,,378209261,69310992,19864447,2021-06-18,Initial commit
ebaf7f302c394e2e19eb385adb4df638e2eb2174,b93a0a2,378209261,69310992,19864447,2021-06-18,Add files via upload
2d02b5b5b5a458ddd6131c93c1ec12290b463c3a,ebaf7f3,378209261,69310992,19864447,2021-06-18,Add files via upload
6c67eb1decbd9dd693bf96bfcafa7b589a3f1bc2,2d02b5b,378209261,69310992,19864447,2021-06-18,Add files via upload
91a4fba3eca7c9a2d3afb03975c107690083fdff,6c67eb1,378209261,69310992,19864447,2021-06-18,Delete maxofthree.exe
91c9722d7f3a443d6c32880bddc9e6491409a600,91a4fba,378209261,69310992,19864447,2021-06-18,Delete triangle.cpp
b3ab95aea895c8d52456c4c765982a490888186d,91c9722,378209261,69310992,19864447,2021-06-18,Delete vowel.cpp
a2d4bb39cfbf9223cd7b6b19151012e2e2199822,,378583265,69310992,19864447,2021-06-20,Add files via upload
9757ad51ac13bcb1e7bbf3f1c55fc8051a7e5344,,88707410,3811601,3811601,2014-10-25,initialize REAMDE and starting project
452c3fc89f75c35eddae115a5db9a861574de516,9757ad5,88707410,3811601,3811601,2014-10-25,initialize README
c31f020503af028c92b1f0c25dc0b83c03d5a734,452c3fc,88707410,3811601,3811601,2014-10-25,adding main.c
28d1be587b78c31f9a9bd245be8e458bb1f218b0,c31f020,88707410,3811601,3811601,2014-10-25,adding Makefile to project
2d32a8b6b81e6b831b22e74f14da27ef47b38165,28d1be5,88707410,3811601,3811601,2014-10-25,adding Makefile to project
0383b0fa121cc5e1a5e0015fac5473b85eff433f,2d32a8b,88707410,3811601,3811601,2014-10-25,adding gtk window main.c
a2faab3fe5905dd58f31f702c9bf684dbb17461a,0383b0f,88707410,3811601,3811601,2014-10-25,adding drawing area
bab0467c48a925e0577219d6aad32970d28e6542,a2faab3,88707410,3811601,3811601,2014-10-25,adding drawing area
cb132a6df816574474d0375d265d493ab1f39455,bab0467,88707410,3811601,3811601,2014-10-25,"small change , char -> const char"
9bebb7784d0870b228b9d7044cb74d72c3425cc5,cb132a6,88707410,3811601,3811601,2014-10-25,adding mainwindow.glade
66c928cebef2817a7605e21fd5970166a1d43e08,9bebb77,88707410,3811601,3811601,2014-10-25,adding frame to mainwin
caaaf5c3702029b8f7a37bc0d376225260bc58a1,66c928c,88707410,3811601,3811601,2014-10-25,editing RGB and handler for drawing_button
37dd5e4980a306b4499144a5767144f81f599ce6,caaaf5c,88707410,3811601,3811601,2014-10-27,making EVENTS_* instead of gtk ways of char events
193a85e7c13a115172118a99552027c07c8cb20b,37dd5e4,88707410,3811601,3811601,2014-10-27,changing main.c name to ui_logic.c
7fee01ba937fa05e92b18f27472e837ea6740837,193a85e,88707410,3811601,3811601,2014-10-27,sperating / adding ui_logic.h and ui_signal.h
c8195337109be90fc642b5354cb44c26b0b8bbf6,7fee01b,88707410,3811601,3811601,2014-10-27,Implementing of debug message mechanism
e074ea3653564d976978b3f4aeb6fbd89efc355e,c819533,88707410,3811601,3811601,2014-10-27,DISTANCE from each other implemented
0bb2145fa17f808b9cec48448b4201c5c5702b03,e074ea3,88707410,3811601,3811601,2014-10-27,cleaning up signals
b3293d892e16d90b3bd2cab104e0f3e41f40705d,0bb2145,88707410,3811601,3811601,2014-10-27,Line Drawing implemented
7a242a0381c2a37f7dc1081f3aa36fb395f7c0fd,b3293d8,88707410,3811601,3811601,2014-10-27,RADIUS trying
dd16a105915bfb51299b6c672131ff53085591a0,b3293d8,88707410,3811601,3811601,2014-10-27,Complete feature: drawing_mode
1bcf0da56869db37e80c6553eb62c0eb46440ff0,dd16a10,88707410,3811601,3811601,2014-10-27,"Implementing GtkSpinButton,and their value"
5958917eaf4d4076cc36c38d7ccaca6682ae6e8e,1bcf0da,88707410,3811601,3811601,2014-10-27,"Implementing GtkSpinButton and their value
Merge branch 'master' of bitbucket.org:navidR/antoptimization

Conflicts:
	ui_logic.h
	ui_signals.h"
0a88969df020789cf2674be46c144139ecfd3f96,5958917,88707410,3811601,3811601,2014-10-27,GtkSpinButton and Drawing is Complete
373ae1df652efc324310a137dd3f2a571cf1adc1,0a88969,88707410,3811601,3811601,2014-10-27,reformat with indent
7f0b6521407971249ab47d9afff70b9b3fc79b3e,373ae1d,88707410,3811601,3811601,2014-10-30,Changing to GdkPoint and fixing queue_draw for drawing_area
cb69fbc306e1a8a7ae83d374a4c6fb7380997890,7f0b652,88707410,3811601,3811601,2014-10-31,crashing in workstation
f805dfbb45db0387d29644821f0596def8b6ec0f,cb69fbc,88707410,3811601,3811601,2014-10-31,fixing for frame returned size
89fce509f9c6742a6d71329759644bc218603448,f805dfb,88707410,3811601,3811601,2014-10-31,fix for update
bd3fee1b36ad37bc235747c5fa64668a811e3a0d,89fce50,88707410,3811601,3811601,2014-10-31,implementing random graph generator
de03834435a22b01e78c331891e0e689cb727af9,bd3fee1,88707410,3811601,3811601,2014-10-31,Complete Implementing of Random Graph Generating
4ab44b16165425d8f534eade14e10125b41c27d4,de03834,88707410,3811601,3811601,2014-10-31,some cleaning up
9b9d37d3afc1ef8c99e89fadc59a5146fa08198c,4ab44b1,88707410,3811601,3811601,2014-10-31,adding graph file and start working on graph onward
19e260544194812fc4b3e7c246cc7b9d3ffd5106,9b9d37d,88707410,3811601,3811601,2014-10-31,Fixing Clearing Bug
a0abb95bb3da7853ee05606022b7168419a1f22e,19e2605,88707410,3811601,3811601,2014-11-01,Implementing initialize and including graph.h
5154bae4fbce43e79464d67e190c4dce9e46c3ca,a0abb95,88707410,3811601,3811601,2014-11-01,graph implementation is done
ad70bf1c7816a8f5c33c3ce639b524e7b8d2d355,5154bae,88707410,3811601,3811601,2014-11-01,Bug fixing
efcbe1f01d248a51cf564279ae822525bb8cff94,ad70bf1,88707410,3811601,3811601,2014-11-01,Implementing GtkDialog free_allocation
3ea1b4c2d226e02fc8e4ea5ce65ddd75b43cbb8e,efcbe1f,88707410,3811601,3811601,2014-11-02,UI completed
7069babecdc8a432c65903a7fcd828c3d0ec2b9a,3ea1b4c,88707410,3811601,3811601,2014-11-02,Implementing graph and ONLYUI
af0016868b361fb3b3a511abff17371570015816,7069bab,88707410,3811601,3811601,2014-11-02,Incomplete Implementation of graphs
ad6887b4f3ed55663953400f7bbf0caebb84fe38,af00168,88707410,3811601,3811601,2014-11-02,Fixing index function
5b996e0cef833120be67844df82a1ae210cd0c2b,ad6887b,88707410,3811601,3811601,2014-11-02,initial implementation of visualize graph
526252adbc484d8cb717c76eec7d6a8825641920,5b996e0,88707410,3811601,3811601,2014-11-02,Fixing visualize_graph
497ff3b9a037a836733a08520f0518bbdea36d6f,526252a,88707410,3811601,3811601,2014-11-03,adding document
7d057747f5a0880a2b52e697c3fb290c35bf34c5,497ff3b,88707410,3811601,3811601,2014-11-03,is_selected and drawing_line
23537a41ab6fc0cc2611079fbf4248be2a310517,7d05774,88707410,3811601,3811601,2014-11-03,so many bugs in graph implementation
54e5d814adb86962f24000b0bb631a1f7845fe5b,23537a4,88707410,3811601,3811601,2014-11-03,fixing bugs
53f4dc263fa237f271e11f70870cc0bbe0a7d5c1,54e5d81,88707410,3811601,3811601,2014-11-03,adding gprof and fixing bugs
63f956a0e2b685aff278c7e4884a44a306e65f4a,53f4dc2,88707410,3811601,3811601,2014-11-05,adding simple document
6b3816043bf4e00f289603327d6ab6fa1885aea6,63f956a,88707410,3811601,3811601,2014-11-05,defining ant and tsp_solver api only
804e9460bab616723d07fb391c754072dca88e13,6b38160,88707410,3811601,3811601,2014-11-05,adding simple doc and makefile edit
ab29bb235095588356eb237b28ab62ae78278c32,804e946,88707410,3811601,3811601,2014-11-06,adding cppcheck
427f85434d747a32e92e530760f90081db4f7ef5,ab29bb2,88707410,3811601,3811601,2014-11-06,fixing cppcheck bug
bc902cb366c1dcf15d4e191ec6a43552bb4b6728,427f854,88707410,3811601,3811601,2014-11-06,fixing cflags-only-I for cppcheck
a3afb16af41d63678fff55a15c9db82c6de7a34b,bc902cb,88707410,3811601,3811601,2014-11-06,report progress
988243d90055de26d3b4f23364a7e82d6c876203,a3afb16,88707410,3811601,3811601,2014-11-06,cppcheck fixing
7fa3cf70dfbd3545685aa8ef4aea32d0a58c6fd2,988243d,88707410,3811601,3811601,2014-11-06,fixing bug
be0f069f71e06d78ac5b6691e1bc16c553a1f581,7fa3cf7,88707410,3811601,3811601,2014-11-06,wrong implementation of ant tsp solving
8f51f724b1e087326f747a8366cd66ca8e4b087d,be0f069,88707410,3811601,3811601,2014-11-06,implementing GtkTooltip for drawing_area
f066948acea2df1ae9b68c20f2d49d4649c5e492,8f51f72,88707410,3811601,3811601,2014-11-06,wrong tsp_solver and implementing redraw and vertices tooltip
f9d24939132c15e93ebfd18bdda83b1e4aec0b5a,f066948,88707410,3811601,3811601,2014-11-07,Problem in ant.c probabily select
c2dc01c5bcae25778f62b7d81f0f322372f31559,f9d2493,88707410,3811601,3811601,2014-11-07,slow implementation of ant colony
6e2877c8723fa3f3c98000bd6218010cfcfb3b22,c2dc01c,88707410,3811601,3811601,2014-11-08,buggy ant colony
b315aa60c7231f758f797cf3979cce3b3d98e5e3,6e2877c,88707410,3811601,3811601,2014-11-08, Complete but have bugs of course
0c76cda1bb5f645c08f56b5dc1ef9ee1830af594,b315aa6,88707410,3811601,3811601,2014-11-08,cleaning g_debug's
df310066b97d460706415ac3670bea0fe12497b5,0c76cda,88707410,3811601,3811601,2014-11-09,cleaning
1d3ae446eed10c3a8e10d95e995bdab6c224f2f2,df31006,88707410,3811601,3811601,2014-11-09,Makefile: Windows
15bb1125f0fb13fcd90b7fd046f005feb645c9b3,1d3ae44,88707410,3811601,3811601,2014-11-09,fixing cycle bug in algorithm
8a6d2b04a4c5632da205d9c226bb6efb8714b468,15bb112,88707410,3811601,3811601,2014-11-09,fixing ant climb rate
e403a1b1fff86ab1e5b5f367e300fdaa540c769a,8a6d2b0,88707410,3811601,3811601,2014-11-12,fix to set max edge value
fdcd2329034104678246fa160b4a5f71a5a440cc,e403a1b,88707410,3811601,3811601,2014-11-18,fixing on ubuntu
f29fadc38e84e4700e9e1828faf954b9dc4f5b2d,,168753643,3811601,3811601,2019-01-16,Init
83783a46982c0c327035cc596a74d2a9a42644c9,f29fadc,168753643,3811601,3811601,2019-01-25,Init
963cdf0d9f0274482a766ff9827e882d54c62c23,83783a4,168753643,3811601,3811601,2019-01-25,Adding gflags
de89cbcb000bea45c633562a1b3389d74ba586f8,963cdf0,168753643,3811601,3811601,2019-01-25,Switching to Googletest
a0e039136b89bec207a9abda69e2d8ecd941bfae,de89cbc,168753643,3811601,3811601,2019-01-27,Init libs
6d970c7c40c067f26f760ca9b716d74bda22b1aa,a0e0391,168753643,3811601,3811601,2019-01-27,Adding Page
4370510647d5c244ee88dab05ce78abbb76d91d0,6d970c7,168753643,3811601,3811601,2019-01-27,Adding pageheaders
58fa6305ef60063b5664bf0ad9765f49e3c28764,4370510,168753643,3811601,3811601,2019-01-27,Adding interface
e3e03e54e9ba457b0dcafd894aa83d7f07a20ab8,58fa630,168753643,3811601,3811601,2019-01-28,adding table
b6c26cf0442733de2f164011a2435c3913791e90,e3e03e5,168753643,3811601,3811601,2019-01-28,Changing to robin map
31967d47080fac9f4a0bcb715ec577a307cc29e9,b6c26cf,168753643,3811601,3811601,2019-01-28,Adding serializations
c8416d9d4760a79cfad6d24e34c548bae8ed72b2,31967d4,168753643,3811601,3811601,2019-01-28,Adding GoogleTest for PageHeader object
f034be946d570e5c73a381a78b0cce9f5a92a39d,c8416d9,168753643,3811601,3811601,2019-01-28,Fixing PageHeader serialization and Tests
ad65d85c87542a43ea93d73dafca4e32b3e048df,f034be9,168753643,3811601,3811601,2019-01-28,Final PageHeader
5e6ae811752b47c9828e628a3a9e4121adc7a915,ad65d85,168753643,3811601,3811601,2019-01-29,Fixing PageHeader & Page
881824e6eb6d8e82afada42832e13d913ca3389a,5e6ae81,168753643,3811601,3811601,2019-01-29,Fixing Page and creating PageTest classes.
9a5df5c01a3c845d97b5629d392b026ba4d5a014,881824e,168753643,3811601,3811601,2019-01-29,Adding function to fetch available memory size
b37226fd94e3bc741b7b3824bdaa4a8aa4b92c87,9a5df5c,168753643,3811601,3811601,2019-01-29,Fixed Table class. neet to handle data and directory pages seperately
2a7f2f19aa289dfee9745e64d764ecf69e6130e8,b37226f,168753643,3811601,3811601,2019-01-30,Spliting the Page class to two class
ec668c8de150fe8d769fd3091937efdbecc540c4,2a7f2f1,168753643,3811601,3811601,2019-01-30,Fixing the issues
6eafbef6c3b07f6c0f5991bd82187f5660e60db0,ec668c8,168753643,3811601,3811601,2019-01-30,Adding memory manager
8678ce41642a9d30f543b40bcf02fa7496f413f4,6eafbef,168753643,3811601,3811601,2019-01-30,Adding the with_O_DIRECT target
cea0943114476901bc3f7e7e84d6511e49f92935,8678ce4,168753643,3811601,3811601,2019-01-30,Adding delete to Page
20e0bed84b95f7448d7dd6b81c65c76084e72658,cea0943,168753643,3811601,3811601,2019-01-31,Implementing delete
5b7ceb5aeb8ae7660f909558d41f22efabea78ab,20e0bed,168753643,3811601,3811601,2019-02-01,Adding readme
4add735ec6b8726c3558af24a07143cb9409aef2,5b7ceb5,168753643,3811601,3811601,2019-02-01,"Finished, implemented delete and fixed the memory leak"
8a0bd7f7120b9016d549695728952e9d677f53a3,4add735,168753643,3811601,3811601,2019-02-01,Fixed the O(n) issue inside loop
e085291701dae76bfd6104de3d39b81ba39fa7b0,8a0bd7f,168753643,3811601,3811601,2019-02-01,Done
f083dce03ce22c4a6a6bcb622a5301b1114a0e4e,e085291,168753643,3811601,19864447,2020-03-29,Fixing Readme
5ad26887fd9a6c8892b6a8b4a5f555de78a19871,f083dce,168753643,3811601,19864447,2020-03-29,Fixing typo
678168850ce918600c819c08fc8a687d7b61ee91,5ad2688,168753643,3811601,19864447,2020-03-29,Update readme.md
d2e278dd5ef03f6961b9fcc8d08661a6f5ff1e42,,88707627,3811601,3811601,2015-11-17,Comming from HG
cd2a591aa167759b09faffb13766e9e69d4ff527,d2e278d,88707627,3811601,3811601,2015-11-22,change implementation to networkx
eec5bac54b4b217e66299ccffa4c42a8f84e77d7,cd2a591,88707627,3811601,3811601,2015-11-22,change debug config
59d231800570443b0359b033178b914098f4f4e5,eec5bac,88707627,3811601,3811601,2015-11-22,fixing drawer
9ecebe7433d3306a77034c0ee5ab9b8afc28f4f7,59d2318,88707627,3811601,3811601,2015-11-22,fixing networkx with drawing in real-time and populating
e7747b187c5e8e05ebf5519ec9057881aeedd28c,9ecebe7,88707627,3811601,3811601,2015-12-02,Ant to Genetic init
32004a95e00da7ff8f9cc3abee7288d8a84c85d7,e7747b1,88707627,3811601,3811601,2015-12-02,fixing generation and population
871bf805fede7f49854c1c61e798b5bbca75744b,32004a9,88707627,3811601,3811601,2015-12-02,ant description
22b86e44b8ec1d3c72519421a66e611bb01eb759,871bf80,88707627,3811601,3811601,2015-12-03,init genetic-ant
4e9f527010c7f9aa9fed00736d659638e4f8863b,22b86e4,88707627,3811601,3811601,2015-12-04,more than enough for those
e41e96cad2ede8cd51b83db0939262ee03780461,4e9f527,88707627,3811601,3811601,2017-04-19,changing backend to wxPython
2082541eed8696ac27cad4ac90717d0e0006e545,e41e96c,88707627,3811601,19864447,2017-04-19,screenshot
b4f5ecd959cd67e73b3bd3ee5ec36ee7bf9e5cf5,2082541,88707627,3811601,19864447,2017-04-19,creating readme
0a018747c611334acf2e4516c3369c5fa8056dc2,,88707691,3811601,3811601,2016-12-11,finished equations
1dfbea08a23a4b4a668f896454d6ba6480c31ed8,0a01874,88707691,3811601,3811601,2016-12-20, finished
5a8d998ba941c7096f1e773f42bdd561f96cfbfc,,88707828,3811601,3811601,2015-11-30, init
21082551a444b7d5b722014f04dd17905150540b,5a8d998,88707828,3811601,3811601,2015-11-30, a little stable
5fa85b477a37024a4c1f28b54a951bf99d4aa56c,2108255,88707828,3811601,3811601,2015-11-30, better
9912f80676808caf09de52ba8b16186bc16547fd,5fa85b4,88707828,3811601,3811601,2015-12-01,fixed
4334d584a1f0d820014e966fc66e5a8182cc9c8c,9912f80,88707828,3811601,3811601,2015-12-01,tick
1c43678937bc8a68bcf8f8410d85a3aaff1b2f32,,88708090,3811601,3811601,2017-02-04,initial
9680aa83e72cbc8316905788157db78e890e726a,1c43678,88708090,3811601,3811601,2017-02-04,ignore thirdparty
18699ba1f91b7be19cece811669741d5d6885027,9680aa8,88708090,3811601,3811601,2017-02-04,polish
298ed2455fccab8eff7dbf8edb467a4b5da1c3c5,18699ba,88708090,3811601,3811601,2017-02-04,arg error
03eda41f2fa2664b1ed1b02c90b67a684da81d3b,298ed24,88708090,3811601,3811601,2017-02-04,arg error
72d9e1e7f7e5a22eee937ebf018f9b8cb6008b36,03eda41,88708090,3811601,3811601,2017-02-04,finished with boost
390dc05a6e8fa29e20e83d3cb311399f3d27bb3a,72d9e1e,88708090,3811601,3811601,2017-02-04,init curl
8ac4fcc9319cc6480e549ab216aa760d9ce81f50,390dc05,88708090,3811601,3811601,2017-02-04,Finishing Curl and checking
7a4ef73e2ba48db7e26bd32a258a5c92cd9355e6,8ac4fcc,88708090,3811601,3811601,2017-02-21,fixing apple build
c3e1fc9405e7f21e76e13fa866da83d047bdee4d,,85599313,3811601,3811601,2017-03-20,Initial commit
a6737df2e0a72e2b3b35a0ed22bbeeaac57baa75,c3e1fc9,85599313,3811601,3811601,2017-03-20,Initialize Template
1d2a057fe9f668045664e4b66e4ac12f2cfc2c46,a6737df,85599313,3811601,3811601,2017-03-20,Add directory skeleton
3d0d687e7cc57c53cd62bac66362931272a7f099,a6737df,85599313,3811601,19864447,2017-03-20,create README.md
5e2d77f0c11989990ca39dfb0fca05a4ed092d47,1d2a057,85599313,3811601,3811601,2017-03-20,Merge branch 'master' of github.com:navidR/Template
b3596b05c7aa989658a2ac74b3f11077976cd824,5e2d77f,85599313,3811601,3811601,2017-03-20,Fixing CMake test before Building
6fa6b7c725f393b513de94077f1e6377d792021f,b3596b0,85599313,3811601,3811601,2017-03-20,Fixing somebugs
55e95b16db458b7f9abeca96e541acbdf8d7f85b,,98848080,,,2006-06-12,import
70a895f63c504f255a28f63efdcfc6b39b2572c5,55e95b1,98848080,,,2006-06-12,xx
0a70d042d04e084da4226e7d0d684dedcae06d78,70a895f,98848080,,,2006-06-13,more or less take traps/interrupts
84eb544b23b17fed07b8c33142d48fdceffce10c,0a70d04,98848080,,,2006-06-13,foo
cb83c71628378bc0e295dd71bf6641379fbcdf37,84eb544,98848080,,,2006-06-13,fix some trap bugs
a4c03dea09b7b5f2463147e979d20b035b81de96,cb83c71,98848080,,,2006-06-15,primitive fork and exit system calls
be0a7eacdab4443199ed0ed4379a84edc7c98fd6,a4c03de,98848080,,,2006-06-15,"sleep, wakeup, wait, exit"
ae6e8aa730fa410118c0532938d4a9e62b08bbe8,be0a7ea,98848080,,,2006-06-16,checkpoint
7baa34a421e4c970ee90c2537ceacd7230f2474e,ae6e8aa,98848080,,,2006-06-21,start on MP; detect MP configuration
21a88fd487177841c882d9017bd9f4476801c6f6,7baa34a,98848080,,,2006-06-22,"checkpoint. booting second processor.  stack is messed up, but thanks to cliff
and plan 9 code, at least boots and gets into C code."
8352b998019565946b8f5b3b8f72175c5076efec,21a88fd,98848080,,,2006-06-22,oops
bf49aedbed02cdbf40430178847d34c48c36c693,8352b99,98848080,,,2006-06-22,send console output to parallel port
df5cc91659b0a2190072e6fc305060c8de95ed82,bf49aed,98848080,,,2006-06-22,"compile ""user programs""
curproc array"
7df1310b2a8e0d825287d64d09c2c8d82e51907c,df5cc91,98848080,,,2006-06-22,bug in trapret
89eb5fbe6d120f19d69c3c84bed69611a746ff03,7df1310,98848080,,,2006-06-24,"boot more than two CPUs, each on own initial stack"
bf3903612d998ca8d95a48fb7cc0e5bfbe68f4c4,89eb5fb,98848080,,,2006-06-26,system call arguments
a44ee3cde8b55c314410210b9f3076797b9925fc,bf39036,98848080,,,2006-06-26,stick mpstack in cpu structure
b61c2547b8b489cab16984c0940a1cb6593a2a3d,a44ee3c,98848080,,,2006-06-26,"system call return values
initialize 2nd cpu's idt"
c41f1de5d41a527a3fa2d1e94215766130eac456,b61c254,98848080,,,2006-06-27,"file descriptors
pipes"
bd303ed06096395778c80558e013b64bb47b9e9c,c41f1de,98848080,,,2006-06-28,timer interrupts
f7cea12b38a86e9b37fa5bc635310d3f85e5f8db,bd303ed,98848080,,,2006-06-28,disable interrupts when holding kernel lock
8b4e2a08febc8b957b44732dbc7da831479a0005,f7cea12,98848080,,,2006-07-01,"swtch saves callee-saved registers
swtch idles on per-CPU stack, not on calling process's stack
fix pipe bugs
usertest.c tests pipes, fork, exit, close"
b22d898297a2496ba4cfd31d445769fbebc0a46d,8b4e2a0,98848080,,,2006-07-05,"timer interrupts
disk interrupts (assuming bochs has a bug)"
7837c71b32fc716101a859302e0349061416bd6e,b22d898,98848080,,,2006-07-06,"disable all interrupts when acquiring lock
user program that makes a blocking system call"
72ea69fbdfb6db6111cf3e1f5ef540e4a87ec29c,7837c71,98848080,,,2006-07-10,read the disk using interrupts
084f21430c152eeaeaf8534fab41eca91a5fe7a9,72ea69f,98848080,,,2006-07-10,oops
7ea6c9d19747c84ede9b056475cd9046c89a4d33,084f214,98848080,,,2006-07-10,queue with disk requests
5ce9751cab960e3b226eb0720e781e793a0be4ed,7ea6c9d,98848080,,,2006-07-11,"Changes to allow use of native x86 ELF compilers, which on my
Linux 2.4 box using gcc 3.4.6 don't seem to follow the same
conventions as the i386-jos-elf-gcc compilers.
Can run make 'TOOLPREFIX=' or edit the Makefile.

curproc[cpu()] can now be NULL, indicating that no proc is running.
This seemed safer to me than having curproc[0] and curproc[1]
both pointing at proc[0] potentially.

The old implementation of swtch depended on the stack frame layout
used inside swtch being okay to return from on the other stack
(exactly the V6 you are not expected to understand this).
It also could be called in two contexts: at boot time, to schedule
the very first process, and later, on behalf of a process, to sleep
or schedule some other process.

I split this into two functions: scheduler and swtch.

The scheduler is now a separate never-returning function, invoked
by each cpu once set up.  The scheduler looks like:

	scheduler() {
		setjmp(cpu.context);

		pick proc to schedule
		blah blah blah

		longjmp(proc.context)
	}

The new swtch is intended to be called only when curproc[cpu()] is not NULL,
that is, only on behalf of a user proc.  It does:

	swtch() {
		if(setjmp(proc.context) == 0)
			longjmp(cpu.context)
	}

to save the current proc context and then jump over to the scheduler,
running on the cpu stack.

Similarly the system call stubs are now in assembly in usys.S to avoid
needing to know the details of stack frame layout used by the compiler.

Also various changes in the debugging prints."
b548df152b5a53ea8cfcb2d94fbdee07884d8050,5ce9751,98848080,,,2006-07-11,"pre-empt both user and kernel, in clock interrupt
usertest.c tests pre-emption
kill()"
b41b38d0da0854f3fa92967b70180ea1156154d4,b548df1,98848080,,,2006-07-11,"give each cpu its own clock, so that preemption works on cpu 1"
4e8f237be819424f922399f8d121d9867b675541,b41b38d,98848080,,,2006-07-12,"no more big kernel lock
succeeds at usertests.c pipe test"
664324745e2257289f7a61e43892ce6e8b8ed9b7,4e8f237,98848080,,,2006-07-12,"cvs add spinlock.h
fix race in schedule()"
8148b6ee535b85e97f3b5f3a850b70fdfbbcaf2d,6643247,98848080,,,2006-07-12,"i think my cmpxchg use was wrong in acquire
nesting cli/sti: release shouldn't always enable interrupts
separate setup of lapic from starting of other cpus, so cpu() works earlier
flag to disable locking in console output
make locks work even when curproc==0
(still crashes in clock interrupt)"
6eb6f10c5668bc2bdf5e561e0060e7e917ed55c1,8148b6e,98848080,,,2006-07-12,"passes both usertests
exit had acquire where I meant release
swtch now checks that you hold no locks"
f27a68a24a3e0980499db8920fc7306dbab7d52d,6eb6f10,98848080,,,2006-07-12,extract lapic code from mp.c
d9872ffa951291fcc3f7a92c0d235b86435c5714,f27a68a,98848080,,,2006-07-12,and the file
46bbd72f3eeaff9386b2a90af88f3d46b458a0e8,d9872ff,98848080,,,2006-07-15,"no more recursive locks
wakeup1() assumes you hold proc_table_lock
sleep(chan, lock) provides atomic sleep-and-release to wait for condition
ugly code in swtch/scheduler to implement new sleep
fix lots of bugs in pipes, wait, and exit
fix bugs if timer interrupt goes off in schedule()
console locks per line, not per byte"
7f419a0d29e0f785dce21b784c4849ae66c790ca,46bbd72,98848080,,,2006-07-15,"Change fetchint, fetcharg, and putint to return -1 on error, 0 on success.
They had been returning 0 on error, 1 on success, but all the callers
were checking for return value < 0."
67a9314ad1318886ee8b9921ab453f08749cf73e,7f419a0,98848080,,,2006-07-15,Add void for ANSI C
3497670122cd0561661a0a2e617ec9ece789c2f0,67a9314,98848080,,,2006-07-15,silence load_icode signedness warning
643b122b4a721dbdb208ec5f8d15e56b63ac58d5,3497670,98848080,,,2006-07-15,move everything having to do with proc_table_lock into proc.c
40a2a08319511fd157d2d77eefbda52423cc81ec,643b122,98848080,,,2006-07-16,Undo change from this morning that wasn't intended to get in.
65bd8e139a8368e987455a10ec59dd7b079b3af1,40a2a08,98848080,,,2006-07-16,"New scheduler.

Removed cli and sti stack in favor of tracking
number of locks held on each CPU and explicit
conditionals in spinlock.c."
856e1fc1ad22a24bd71c706bc06ba868e044ddc8,65bd8e1,98848080,,,2006-07-16,"Attempt to clean up newproc somewhat.

Also remove all calls to memcpy in favor of
memmove, which has defined semantics when
the ranges overlap.  The fact that memcpy was
working in console.c to scroll the screen is not
guaranteed by all implementations."
51716a869c2e596b43dcc9d030a6626b29cf4829,856e1fc,98848080,,,2006-07-16,"Rename fd_reference to more suggestive fd_incref.
(Fd_reference sounds like it might just return the ref count.)"
6f2b626d2882c2b9df5039b324c4167be3d74f28,51716a8,98848080,,,2006-07-16,remove non-idiomatic increment/decrement
4ed974f5ea8cbb6ee296782d94d83d8edbc92026,6f2b626,98848080,,,2006-07-16,more name cleanup
72fef4f85513d200ca6b986b0bcc5c608142a1d6,4ed974f,98848080,,,2006-07-16,Don't kill process when inside kernel.
b903b693ec1525f1c033fa8738f78a6d956f1adf,72fef4f,98848080,,,2006-07-16,tidy up
9b37d1bfaa65c96e7a465c285599aa45117182ea,b903b69,98848080,,,2006-07-16,"Add user.h for prototypes.
Add cons_puts for cleaner output."
f3d290220f072a7053b9a368bf7c42e8e2945c7e,9b37d1b,98848080,,,2006-07-16,add cons_puts for atomic (readable) output
679a977cb2d4df42ce1f144593716aeb855d7a92,f3d2902,98848080,,,2006-07-16,remove acquire1 and release1
4763a042c8b1f773c7517a145c72f455bde78b7f,679a977,98848080,,,2006-07-16,add minimal comments to generator vector table
b53f99d0d2cff21c6c208f5d00bb2cd2c6e39210,4763a04,98848080,,,2006-07-16,"standardize on #include ""foo"" not <foo>"
6b765c480f8c810fc495a32baa696bbeb75adc09,b53f99d,98848080,,,2006-07-16,rename swtch.S to setjmp.S
ef2bd07ae4cb2e27d62cfdcb7e71d82948fb80ed,6b765c4,98848080,,,2006-07-16,standardize on not using foo_ prefix in struct foo
b74f4b57ae48719fca4fc621732b055b2debaf3e,ef2bd07,98848080,,,2006-07-16,Keep interrupts disabled during startup.
b75c11b20edad4e507d5bc2455177de59a38ec9f,b74f4b5,98848080,,,2006-07-16,add %s to cprintf for cons_puts
8a7eb80e47546fab8decf3fdc1579cd8a137e406,b75c11b,98848080,,,2006-07-16,fix main return type
9692d5add55a3f1dd7c5fa8182f4ba315f3ebedd,8a7eb80,98848080,,,2006-07-16,was empty; gone
96e16b96c9ff03f7cbba6fa050ed57e239904412,9692d5a,98848080,,,2006-07-16,no memlayout.h
84d79573da7d701b0bbed92eb874bfd8c2610f75,96e16b9,98848080,,,2006-07-16,more idiomatic c
6e6a1dd7d717246f58bc3bbdf2a32e7e3f901cf3,84d7957,98848080,,,2006-07-16,various little fixes that should have been in earlier checkins
564f787e916392af7b1960d079abf110234305d4,6e6a1dd,98848080,,,2006-07-16,"Eliminate annoying Pseudodesc structure.
Eliminate unnecessary parts of mmu.h."
c54c79267fd4c3404000b3c545c428209e4d8a3d,564f787,98848080,,,2006-07-17,nitpicks
f15a3ae2633a9f3c76be7ce76b2ab85e2229e502,c54c792,98848080,,,2006-07-17,cleaner
ee9c7f3bfc45563e4caebcb7995e75bf39a8e0f3,f15a3ae,98848080,,,2006-07-17,goodbye PushRegs
857d60cb0c56df19a5125584c677aa56c4488e98,ee9c7f3,98848080,,,2006-07-17,cleaner
b5ee516575b4d2f1fd7de014230fee7cf8b6b538,857d60c,98848080,,,2006-07-17,add uint and standardize on typedefs instead of unsigned
e0966f459f5543faf9e574b7415bec2bf11e6b42,b5ee516,98848080,,,2006-07-17,no more cons_putc; real_cons_putc -> cons_putc
b5f17007f41770fee97fa850635976ceb7aa7492,e0966f4,98848080,,,2006-07-17,standarize on unix-like lowercase struct names
0dd4253747eef56d0f1539fac7d62234f6af5f51,b5f1700,98848080,,,2006-07-17,add ide_lock for sleep
bd228a81566befa6154807d327d8c873f6a76c79,0dd4253,98848080,,,2006-07-18,prevent longjmp / forkret from writing over tf->edi
29270816285978e44b317c6e5c7bfa7a89ec24dd,bd228a8,98848080,,,2006-07-20,uint32_t -> uint &c
11a9947f1a68e23001690955d8d0975ad4d6cf0c,2927081,98848080,,,2006-07-21,"bread
iget
mkfs makes a file system image
put this in your .bochsrc:
ata0-slave: type=disk, mode=flat, path=""fs.img"", cylinders=1024, heads=1, spt=1"
9d3fb6714181f44300a0a5431279841427e4ef06,11a9947,98848080,,,2006-07-21,namei
54a4b00346575f3e2da1c9aeb023aaba4412a31d,9d3fb67,98848080,,,2006-07-26,update
c59361f1430ec485596d1bf5d43339af0b5a2705,54a4b00,98848080,,,2006-07-27,primitive exec
8455980b27a57e9c51693a4acbe91b820f4ab319,c59361f,98848080,,,2006-07-28,exec arguments
e46fb46fcf4302bf5ed913101c5c7b510fe03ad4,8455980,98848080,,,2006-07-29,acquire+release ide_lock in ide_intr
32630628a996e29018641af262272339ed6fef88,e46fb46,98848080,,,2006-07-29,open()
c8b29f6d038090a5b5b6272406afbadcf31e9809,3263062,98848080,,,2006-08-04,"better interrupt plan---this one appears to work
ioapic"
366189214ea663b20a0323b65661987a7de6f56d,c8b29f6,98848080,,,2006-08-04,nit
8ec6530feea5153e00dced60d33fbfdd9d5c3184,3661892,98848080,,,2006-08-06,generalize async read to support write too
104207726be721843e44b8616faa87222aa5f0c2,8ec6530,98848080,,,2006-08-07,bwrite
e8d11c2e846ad15b32caacc8a919722b76d00f79,1042077,98848080,,,2006-08-08,"mknod,ialloc,iupdate"
0e84a0ec6e7893dad13dff9a958c5bc987b79c82,e8d11c2,98848080,,,2006-08-08,"fix race in holding() check in acquire()
give cpu1 a TSS and gdt for when it enters scheduler()
and a pseudo proc[] entry for each cpu
cpu0 waits for each other cpu to start up
read() for files"
241113985f7122c65345885dec02e008601ff7ef,0e84a0e,98848080,,,2006-08-09,"block bitmap
balloc"
6c0e444fcdf7ba21442513acbc69c7fca9def06b,2411139,98848080,,,2006-08-09,"oops, update directory inode too"
6fa5ffb56ffdbe5a37bfc04d063fbff2bf929c27,6c0e444,98848080,,,2006-08-09,"devsw
checkpoint: write(fd,""hello\n"",6) where fd is a console dev almost works"
2601de00325bebd850fb74409e77e68d52b7021a,6fa5ffb,98848080,,,2006-08-09,"fix test program: don't close before writing
set fd to writeable on open for write"
939f9edeac042b2678bd2943a32822fb2eed75b4,2601de0,98848080,,,2006-08-09,"iread for T_DEV
O_RDWR, etc.
create file"
28d9ef04ddaa4cf32f3c63c976afdc535a36db98,939f9ed,98848080,,,2006-08-10,"printf
convert userfs to use printf
bfree
ifree
writei
start on unlink"
8a8be1b8c36e38f58f8ba3e425b6e701ad65abf3,28d9ef0,98848080,,,2006-08-10,"low-level keyboard input (not hooked up to /dev yet)
fix acquire() to cli() *before* incrementing nlock
make T_SYSCALL a trap gate, not an interrupt gate
sadly, various crashes if you hold down a keyboard key..."
5be0039ce9e22f140a29e167526c64c723c5be3c,8a8be1b,98848080,,,2006-08-10,"interrupts could be recursive since lapic_eoi() called before rti
so fast interrupts overflow the kernel stack
fix: cli() before lapic_eoi()"
17a856577f9db766b8ef7099d0575d378dff5dd1,5be0039,98848080,,,2006-08-11,"init creates console, opens 0/1/2, runs sh
sh accepts 0-argument commands (like userfs)
reads from console"
24437cd554995f729969299e72699e2ba5d9b068,17a8565,98848080,,,2006-08-11,"fix deadlock---iput(dp) asap
working unlink, but doesn't free dir blocks that become empty
remove out-of-date comment in ioapic"
0633b9715e106ac97fafcf3a68c06da1f0cf873a,24437cd,98848080,,,2006-08-12,"unlink,mknod,create with multi-component pathnames should work now
remove console init code from userfs"
1f544842ceb5af73b1f2b13222d72dd4ad7cd08a,0633b97,98848080,,,2006-08-12,"fstat
primitive ls"
4357207237e074b5a42ee9739eadd040fd1cf296,1f54484,98848080,,,2006-08-12,"fix getblk to actually lock the block
no more cons_put system calls
usertests tests two processes writing files"
7ce01cf9be997dfec50786b8aec663c84b63c209,4357207,98848080,,,2006-08-12,"mknod set nlink = 1
usertests for concurrent create/delete, and read() after unlink()"
14938f9392524ad1b198bf36e63d42e0e61dab85,7ce01cf,98848080,,,2006-08-12,"buffer cache, fifo replacement"
22bac2cb9d0b8050573a4b5c6cb5d8f460ee4167,14938f9,98848080,,,2006-08-12,"free inode only when noone is holding a pointer to it.  should fix open-unlink-
read problem, but untested"
cd93074e5bed8fdbc84f2960c3219c7cf791b020,22bac2c,98848080,,,2006-08-12,LRU disk cache replacement
05e975511bcf7f33955208319655dbfc687a7b0c,cd93074,98848080,,,2006-08-12,"zero out all of dirent.name when creating
don't increase length of directory"
9e5970d596d7b1634200d50e96130886f593cede,05e9755,98848080,,,2006-08-13,link()
c372e8dc348e4bb30aae7642db92ecbeedbc83ab,9e5970d,98848080,,,2006-08-13,"zero freed blocks
multi-block directories
track size of directory (size = number entries in use)
should namei (and other code that scans through directories) scan through all blocks of a directory and not use size?"
211ff0c67ea6737853cf932313cf4e27cc15f55c,c372e8d,98848080,,,2006-08-13,"namei returns locked parent dir inode for create / unlink
don't hold fd table lock across idecref() (latter does block i/o)
idecref calls iput() in case last ref -> freeing inode
dir size is 512 * # blocks, so readi/writei &c work
unlink deletes dirent even if ip->nlink > 0"
8abe2bcf156cce7beec21b259a59aaaa538165c0,211ff0c,98848080,,,2006-08-13,don't print unallocated dir entries
17e3cf15bac0c1ac60780ce7d1d228442ff08ed9,8abe2bc,98848080,,,2006-08-13,fix iget() bug that allocated in-use inode[] entries
e4bcd2a3a919ef040d2a577a1025f286c3b57168,17e3cf1,98848080,,,2006-08-13,wdir now uses readi/writei
d15f0d1033a7da6448966d9626ec2776781e4188,e4bcd2a,98848080,,,2006-08-14,"start on mkdir
stat"
bdb66433031ca96f2fd127995186623cd10c45b3,d15f0d1,98848080,,,2006-08-14,"set size for directories correctly in wdir and mkfs
mkdir
ls shows stat info for each dir entry"
d7b3b802f414dbf18b5e196ab1a342b19d5f7be8,bdb6643,98848080,,,2006-08-14,"user-level programs: mkdir and rm
shell parses arguments (very simplistic)
readme version of README (sh doesn't deal with capital characters)
printf recognizes %c
nicer output format for ls"
e958c538fa1e711479f09cab807a6a7cde5d8aeb,d7b3b80,98848080,,,2006-08-15,commented out code for cwd
69332d1918fda38b25fc3ec8c786d16bb17e9e68,e958c53,98848080,,,2006-08-15,oops
350e63f7a9b1be695c0cf69e380bd96733524f25,69332d1,98848080,,,2006-08-15,"no more proc[] entry per cpu for idle loop
each cpu[] has its own gdt and tss
no per-proc gdt or tss, re-write cpu's in scheduler (you win, cliff)
main0() switches to cpu[0].mpstack"
ceb0e427962d0656e672955585c04093b9efda90,350e63f,98848080,,,2006-08-16,"proc[0] can sleep(), at least after it gets to main00()
proc[0] calls iget(rootdev, 1) before forking init"
8787cd01dfa6080d219f3dd7bbf03f3eb988a74e,ceb0e42,98848080,,,2006-08-19,"chdir
cd in shell
nits in mkdir, ls, etc."
16083d4462b9a57ec1e1fc81cea73da9479982a5,8787cd0,98848080,,,2006-08-20,"removed block system call
renumber system calls (run gmake clean!)
skeleton for dup system call"
f18ab5c04e5380e0fb27f63e8335e5d621315c1d,16083d4,98848080,,,2006-08-20,"compiling, but untested dup"
8b58e81077abf4e843873f16c03077e2fafce52d,f18ab5c,98848080,,,2006-08-23,"i/o redirection in sh
better parsing of sh commands (copied from jos sh)
cat: read from 1 if no args
sbrk system call, but untested
getpid system call
moved locks in keyboard intr, but why do we get intr w. null characters from keyboard?"
ea2909b6b5ceb54383ab23fd195ebae29cfdb7ca,8b58e81,98848080,,,2006-08-24,"user-level malloc (untested)
nit in sbrk
indirect block
fix dup to share fd struct"
1be766853771bda6023b8024041453413fb777bb,ea2909b,98848080,,,2006-08-24,"fix bugs in indirect-file code
clean up test program"
bcfb84b6a9077b5e035325b3396c062d1f183ac4,1be7668,98848080,,,2006-08-24,big directory test
81d521999844f1dfa9c419463bbb8e355817062a,bcfb84b,98848080,,,2006-08-24,"bug in sbrk
test malloc"
74493bf4460f4024e06760289735e9d5dcb9dc3f,81d5219,98848080,,,2006-08-25,"kill user process when it generates an unhandled trap (e.g., 13)
fix bug in test code of malloc"
5051da6de3fcabb9e280d3bf36549da0ac0d5738,74493bf,98848080,,,2006-08-25,"inode addrs[NDIRECT] -> NADDRS
fix race in mknod / creat
use last component in dirent in mknod, not path"
80f292f830058bce5874aa091602eb9f61430b8e,5051da6,98848080,,,2006-08-25,fix writing the indirect block
a84585de6380dfc1c9988015ba0d3c77ecfa5395,80f292f,98848080,,,2006-08-25,fstests bugs
a6c28c9779da5f0b98a1698d66eae0708e395e7d,a84585d,98848080,,,2006-08-26,"mkdir check error from mknod
chdir return -1 if target not a dir"
03c70cc2e629e2ad8dcd5718be0132f17b9b8328,a6c28c9,98848080,,,2006-08-26,"consistently ignore more than 14 chars in path component
forbid create or write of existing directory
mkdir(""d1/d2/d3""), .. should refer to d2, not cwd
mkdir increase parent link count"
45b6fe7e1a339db9d96c9747195ecbd54c945133,03c70cc,98848080,,,2006-08-28,remove smallcap version
b52151e032025f97e42ddc0147c9e49fb958a948,45b6fe7,98848080,,,2006-08-28,"some text in readme
generate postscript printout"
2b19190c13a12b276ac5cd3a69187d2ab504f36e,b52151e,98848080,,,2006-08-29,"clean up stale error checks and panics
delete unused functions
a few comments"
3b95801add8122af978f9c071d96e3f58acfd0cc,2b19190,98848080,,,2006-08-29,"i broke sbrk, fix it"
d7ce6545e7179e9a4b950838c354b485e3f3fdb8,3b95801,98848080,,,2006-08-29,better printout
dfcc5b997ce9c313b9ac0e7d8da39c4416b472a8,d7ce654,98848080,,,2006-08-29,prune unneeded panics and debug output
7a37578e9efcba67d82fbfee7d03cba830a41106,dfcc5b9,98848080,,,2006-08-29,"clear killed flag in exit
idecref cwd in exit"
18432ed5edaeb2a6ffd91f557880c277d96784c1,7a37578,98848080,,,2006-08-29,nits
2aa4c3bc29b67dcc4810aca96fd0ae8aa7c32b5e,18432ed,98848080,,,2006-08-30,"complain if no disk 1
lots of cleanup"
97a5bba6d25588706d2765097b4e940793f2fd9f,2aa4c3b,98848080,,,2006-09-03,"index for printout
some cleanup"
801affcd147606873b10db04c9fbf80dede969f6,97a5bba,98848080,,,2006-09-03,centralize credits
7abf49d2f22af633f2fb3546f9f9fd818cef25df,801affc,98848080,,,2006-09-03,"remove duplication
don't use the same name for two different pieces of code"
0b6ab8416e50dcbf790163282f461647e180dbc6,7abf49d,98848080,,,2006-09-03,"don't send keyboard interrupts to the second cpu, if we have only one cpu.
xv6 seems to work fine on uniprocessor now."
97c74a3a642c17dfcd605018c3fb45a1f4f4d5e2,0b6ab84,98848080,,,2006-09-03,nits
82537b7156b98f5b1277641fef99d0b75a402a95,97c74a3,98848080,,,2006-09-04,nits
a81e02133a2e8cb20ba62113a67bc9bee746c8bf,82537b7,98848080,,,2006-09-04,a few nits
fae7779da70cf76468f8ec0ca8a888bde2bc64fc,a81e021,98848080,,,2006-09-05,"New formatting scripts.

The use/defs extraction in runoff still needs some work
for xv6 code style."
56ac0d72fc2c6c3535e06f26140700b4dc096a00,fae7779,98848080,,,2006-09-06,change sections and order of files in printout
d49a2d53867b2b3a7d627be217c12b3a95676766,56ac0d7,98848080,,,2006-09-06,nits
21a88dd053069c17b619a89bf2c8beefb672fcd5,d49a2d5,98848080,,,2006-09-06,"some pipe support in sh
bug in proc_wait"
0992df4b90beac0447297806943ac4b6b2ced46e,21a88dd,98848080,,,2006-09-06,clear np->mem after freeing
d90113b638ce1324544f8aaf75daa0d414907a33,0992df4,98848080,,,2006-09-06,tweak
45854caa93eecc3f80d34940b7cf6a400b640d69,d90113b,98848080,,,2006-09-06,"print ""0"" for null string"
a650c606fecc7e3938345e2bc52050a9ea725e7a,45854ca,98848080,,,2006-09-06,"spacing fixes: no tabs, 2-space indents (for rtm)"
cea3c34644c1a9658330fcf2df49e13aef1bc3c7,a650c60,98848080,,,2006-09-06,spacing
03b6376f56074cd1dcbb1b35639e303c3a8a0181,cea3c34,98848080,,,2006-09-06,standardize on unnamed args in prototypes
9e9bcaf143bf8507e947f9934371744c3d50a8ea,03b6376,98848080,,,2006-09-06,standardize various * conventions
f552738889f56586728d1b5d2a63cde0cf124929,9e9bcaf,98848080,,,2006-09-06,no /* */ comments
799c9176bcd14a4e7642566c5046e83b1a88f6ff,f552738,98848080,,,2006-09-06,more tabs go away
96d467b3a9027412eed8bf5ec3c4521db44469ef,799c917,98848080,,,2006-09-06,more named constants
48b824703b35e17965c738743c7394e1fc0017ec,96d467b,98848080,,,2006-09-06,break single-line if statements
d4c64e5d434d8b9ef4488dddbe8807aed9fd7e98,48b8247,98848080,,,2006-09-06,writeable => writable
61d03d0eeff3137a6453a773dfe8a51746804920,d4c64e5,98848080,,,2006-09-06,rm rm
2685309fb47a0f60d3b59138d8029c5d901fde91,61d03d0,98848080,,,2006-09-06,split syscall.c into sysfile.c and sysproc.c
42d5d65b9ab683ba7ea7e84129a8e86728081b62,2685309,98848080,,,2006-09-06,renumber system calls
89ebd895b8d1efe2d562971e6cdcb6571982b5b1,42d5d65,98848080,,,2006-09-06,what is NULL?
39593d2f1aab1355d61b75c041b31a88d2043a04,89ebd89,98848080,,,2006-09-06,struct fd -> struct file
9936bffa45c928ead9660a0df32d08a50b2b09c2,39593d2,98848080,,,2006-09-06,fd.* -> file.*
50e514be986e4d5b136879d1221b721b17493a78,9936bff,98848080,,,2006-09-06,fd_* => file_*
236d33698b4520f8722e5ff8ce2c5d277c6b7153,50e514b,98848080,,,2006-09-06,weird spacing
db8fb62e4d599f4e08a3b6420e42b2445e8d7fe3,236d336,98848080,,,2006-09-06,for vs while
0cfc7290e8307b66ade6d5eb736c89cc4062c302,db8fb62,98848080,,,2006-09-06,wrap long lines
f3fc72c5b6045092b76d968df91a6d312428394c,0cfc729,98848080,,,2006-09-06,clean up after mkfs
e9d2250e150c9c0d2050d1c9d3435820c2d9f8cb,f3fc72c,98848080,,,2006-09-06,goodbye lgrind
2a55cc55012ab090c67e25c845cb6cbe3e8fdc56,e9d2250,98848080,,,2006-09-06,runoff tweaks
26dfb4c80df3b6cada200477d9a1b694a1232d80,2a55cc5,98848080,,,2006-09-06,runoff fixes
d6b20251f0094661b32b08973f536102d6e9dfeb,26dfb4c,98848080,,,2006-09-06,fd.c -> file.c
f9bc4452b5437570f1709430e9364cc3e323cf3a,d6b2025,98848080,,,2006-09-07,nit in console interrupts
f70172129c94e4d53b56fc10a7d859679b581bd2,f9bc445,98848080,,,2006-09-07,"run without lapic and ioapic, if they are not present
if no lapic available, use 8253pit for clock
now xv6 runs both on qemu (uniprocessor) and bochs (uniprocessor and MP)"
1133b215d8ce5f72d2252cf19b81fc29289d0b38,f701721,98848080,,,2006-09-07,more defensive programming
e00baa9f5d15d745a26cbb0a9ae54e3ea4fb9696,1133b21,98848080,,,2006-09-07,"get precedence of <, >, and | right
simplify"
44e6909a6d33689cefb283ecb91dfe1d874f8e0b,e00baa9,98848080,,,2006-09-07,more simplifying
7678a19ecf6fc9d8f0ded5b590df4e3499701139,44e6909,98848080,,,2006-09-07,better page breaks
94d7e2597544199ba793aa43ebd43c08abf052de,7678a19,98848080,,,2006-09-07,avoid system binary clashes
05a7bbe08b952b321824faff86dbefe077dd4051,94d7e25,98848080,,,2006-09-07,comment fixes
1dca3afbbbbbf6ae7ac9d55e027d724a4cbc3459,05a7bbe,98848080,,,2006-09-07,remove _ prefixes
a64cd81342188c80ce6aef13f1b98300018d786e,1dca3af,98848080,,,2006-09-07,one regression test program
7e019461c8bf0afbe73f959ca3394cce832501fd,a64cd81,98848080,,,2006-09-07,fix build
31085bb4166c18b3dee059160d64b4edd7c5e2f4,7e01946,98848080,,,2006-09-07,more comments
224f6598c1c6f794bcbe39c510c682efba6c1de5,31085bb,98848080,,,2006-09-07,refactor syscall code
52253dce6581ab381091720d3df9f3037ce38f7b,224f659,98848080,,,2006-09-07,remove fstest
bb207a1d42c9a75a64af35de4f12912176ebfc8d,52253dc,98848080,,,2006-09-07,comments
70c3260dc40460bf2d893812c1dde5261e6327ba,bb207a1,98848080,,,2006-09-07,fix pipe bug
7a054598fa35a7c538d79589619ef3be1ff47866,70c3260,98848080,,,2006-09-07,fix build bug
0d6bbd3172b995ef8a1450ebbd29811eb3875d4a,7a05459,98848080,,,2006-09-07,clean namei search loop
6c8acf9e046aaf31f528e1890c923525552b0dd4,0d6bbd3,98848080,,,2006-09-07,check super-long lookups
19297caf0d141e23fa2f5da6e2fb0ffa181d7a82,6c8acf9,98848080,,,2006-09-07,"fix ide, pit interfaces"
0294e3e2906de29cafd1662956e9539d817d1dba,19297ca,98848080,,,2006-09-07,comments
0517a730db6e59e31bac11e43fd0ee9de7200b19,0294e3e,98848080,,,2006-09-07,remove bogus test
1542186378ba1c53744d19b3f2c8382976bd5d21,0517a73,98848080,,,2006-09-07,allow long names again
ab17e3198be3ae4bf50bf02241c5c1abb3128915,1542186,98848080,,,2006-09-07,debugging prints
5a71f9330162dd9f8a302c3ed1fa33539acdfdec,ab17e31,98848080,,,2006-09-07,debugging rearrangements
0b75a8e8bea4f4c8230daae8d81eda04c19e622c,5a71f93,98848080,,,2006-09-07,no recursive interrupts
e7a5b3c5ee2d440892ab7e9bb98ad82efb25219f,0b75a8e,98848080,,,2006-09-07,comment memory barriers
b6cac0a53b45a8f35e348dc3235243c066aab747,e7a5b3c,98848080,,,2006-09-07,check preconditions in sched
3c821bf9ae6e99d38b1cb0d5a8ca94c48b7d9690,b6cac0a,98848080,,,2006-09-07,better comment
21eafd48e2a08f1c74430492550d63248b5832d5,3c821bf,98848080,,,2006-09-07,fix disk bug
41abfaa92e4b4b88f4b97f5d0829a6a4086f1be7,21eafd4,98848080,,,2006-09-07,missing def
95edc8921f3ac7d524815ce21c10ae96b81b5828,41abfaa,98848080,,,2006-09-07,debugging help
641e29c5833dd7342d996ea2492899de04f8e585,95edc89,98848080,,,2006-09-07,add copyright notice
f3c393ba9f7bd9ae9b08a688eb955b8c73c04dec,641e29c,98848080,,,2006-09-07,fix tests
339a9beaf59732dce501caf3ce995a0d4d90113b,f3c393b,98848080,,,2006-09-07,new targets bochs and qemu
4d33ef86128f75b16262506e1a80729f5f76a274,339a9be,98848080,,,2006-09-07,explain how to use
2e898063ae0c6c1f7f9926b3a09370f88ef3374a,4d33ef8,98848080,,,2006-09-07,a bit more structure
5692823b1f7014121f15e6579415c93012543531,2e89806,98848080,,,2006-09-07,"minor makefile fixes for printing
cut last line of readme so that readme fits on single page"
2cbb4b18424833d7135ea4002d38ecd1d97dcfa9,5692823,98848080,,,2006-09-08,stop using fd to name files
72a590d9e50de4d361bb8f0f81e156abf5014f39,2cbb4b1,98848080,,,2006-09-08,quiet
ec5783cbd2b52b3e566938fc8d07851e117005e2,72a590d,98848080,,,2006-09-08,runoff changes
d911d83ca1ff002f170f2c77975c1a6d705856a6,ec5783c,98848080,,,2006-09-08,fix various comments
ab299eb39a077f70ffa1deb8cb7561482037c413,d911d83,98848080,,,2006-09-08,can break after }; too
d6d636aad3e47eb2b4b1c88ff8e1c9c505c58931,ab299eb,98848080,,,2006-09-08,make setjmp fit on one page
be29b8e263ee60c30e8f55162bc05ee4515634c9,d6d636a,98848080,,,2006-09-08,++
1656b1b2326069e82933cbaf34a68ca3abe2aa9d,be29b8e,98848080,,,2006-09-08,move growproc up higher
cd12eea3c739bc08f0d1a4492073d2ff18f4c453,1656b1b,98848080,,,2006-09-08,make trap fit on one page
4194835901c7151630c22ae7cd8fbba7d3b736ab,cd12eea,98848080,,,2006-09-08,tweak fs.h spacing; add comment
50f88503664aae07e22e3ed2575853e396f909b5,4194835,98848080,,,2006-09-08,move ide_intr lower
8e1d1ec934d5ebcd4d8208f88857be12c8a97a06,50f8850,98848080,,,2006-09-08,some comment changes
8be7e703ca6db8bef090d77b984800a8d32fd671,8e1d1ec,98848080,,,2006-09-08,wording nit
66d46d691def24c1d76b43efd911dcab641fbe7c,8be7e70,98848080,,,2006-09-08,fix file names
fb6ddf3ea2ae8b1bbd15cb029147e3782cce3921,66d46d6,98848080,,,2006-09-08,tweaks
db2d8e4b8271aade61c1365aafdaf4e41909994e,fb6ddf3,98848080,,,2006-09-08,dist rules
5eb6212dfef41a016bfcb214d84236c02828da2c,db2d8e4,98848080,,,2006-09-08,xv6 style
f80873e60276a644ef085750881ee43911fed492,5eb6212,98848080,,,2006-09-08,update line numbers
5cb7877e0f1dd09a513859f018d3981a9c9d17ad,f80873e,98848080,,,2006-09-08,"use bootstrap processor as specified by MP table. typically 0, but not
guaranteed."
5c596bb3a7b3e08760ac5c033680c9957e4e2842,5cb7877,98848080,,,2006-09-08,consistency.
efb01c1dc05ad96268a84c866f0c9d467e76ba42,5c596bb,98848080,,,2006-09-08,only need a page
4fb684548aef31639fec850a6011259716f4291e,efb01c1,98848080,,,2006-09-08,formatting nits
5788b3604a5c57165bb65ccd5a75464ded18fa35,4fb6845,98848080,,,2006-09-08,nit
ba969aa6a85ad5d6cdfbefc063e50d23f30e9311,5788b36,98848080,,,2006-09-08,make lines shorter
3689c7f5cea4b0b48ab1c96ff6346f0a475b7a62,ba969aa,98848080,,,2006-09-08,unnecessary struct jmpbuf
b02e13f0f67d86c895b1272ebaca6f4902d7dbb1,3689c7f,98848080,,,2006-09-08,shorten
e936743429a8f66f1a50d467c02d1ab3da69889d,b02e13f,98848080,,,2006-09-08,tweak
ca0140339d18e13259a3b8feb0ce9e47013f0edb,e936743,98848080,,,2006-09-08,fix toc example
2c88030df0a756924050bbb2de07d1d441f984d8,ca01403,98848080,,,2006-09-08,dist tarball
5cc0bd5ceaf805ab44f851e6a3f1952a29e9d7b7,2c88030,98848080,,,2006-09-08,sent to printer - CTC job 6955 40 copies
05eecb6313b55f0e1ff26faf673066450482aa5c,5cc0bd5,98848080,,,2006-09-08,a copy of xv6.pdf that can be sent to turkey and duplexes correctly
c25e0a5ff86739517925f9aa71234d33d87ca7a8,05eecb6,98848080,,,2006-09-17,accumulate bugs
b438eff6bf21dc66697b4a37510dd652677deb7c,c25e0a5,98848080,,,2006-09-17,"Have kernel build rule create kernel.sym, which can be
used in Bochs to make breakpoint setting easier:

	load-symbols ""kernel.sym""
	vb 0x8:""main0""
	c
	disasm/25 ""main0""
	vb 0x8:""main0""+0x5f
	c

etc."
f8ac63967522b517e8539591ef7156ee9d72cbae,b438eff,98848080,,,2006-09-17,a few other nits
7356f26a680b3c22053ad30170625b1f520102a6,f8ac639,98848080,,,2006-10-13,a few notes
4b5443c3cdfba07bd02a024e628be4494033d19e,7356f26,98848080,,,2006-10-18,record tim's bug and patch
cc9c9814b2d1ca6d0124a06d2ca01b48eae20d20,4b5443c,98848080,,,2006-10-19,bug reported by nelson
b4c1a88d6c3f9a2d07e088162ab94bfd9ad5467a,cc9c981,98848080,,,2007-06-29,forgot to check in long ago
71d1122a03c16424091fb98dab29709a0478953d,b4c1a88,98848080,,,2007-08-08,add bootmain.c to runoff.list
ca3d5776711f2580f6a9a9bbea410af1a88dfce2,71d1122,98848080,,,2007-08-08,add rule to generate init.sym
07018064bbc27a4b8aad99832fbe3a0e608775d9,ca3d577,98848080,,,2007-08-08,add EOF handling to console_read - works with cat
a059f0259612a8c5df71605daad5487c13520405,0701806,98848080,,,2007-08-08,"change gets to return \n, to distinguish 0-byte read from empty line"
cd08e6e065370611ea0cde431af222cf3420ca56,a059f02,98848080,,,2007-08-08,typo
7e89fb90bd0beb91e5d67af362d6a8a3a1b4c626,cd08e6e,98848080,,,2007-08-08,add safestrcpy
7366e042d9a7a21397115ca49c0d9344a9365ada,7e89fb9,98848080,,,2007-08-08,save process name for debugging
a7d18bb6f081e1520af7eeed4e3a633aafc81124,7366e04,98848080,,,2007-08-08,comment tweaks; more informative process list
349ee132f0c7060ad04c5667da24d8cb40654be8,a7d18bb,98848080,,,2007-08-08,add zombie program
f8f7fcbebdae7d3c8ac697373d0769d1ccfc31ae,349ee13,98848080,,,2007-08-08,handle EOF in shell
39c84ccf48ca854eca47917a7585d0a2ce32f74a,f8f7fcb,98848080,,,2007-08-08,fix wait bug in init
af689dcf7e3a6a8bdec8afff0f0e799f31929203,39c84cc,98848080,,,2007-08-08,oops
e695b849af8d88a5e7b719d396c1035d37126b36,af689dc,98848080,,,2007-08-08,spacing
e0924827eef75ac29f17909c6f932222eda72fbd,e695b84,98848080,,,2007-08-08,add kill
e204d0a151a0611085510840465ee418cccfefcb,e092482,98848080,,,2007-08-08,"atoi, for kill"
ed960d2c191a595a3c4e0714417cabb08e8271c0,e204d0a,98848080,,,2007-08-08,watch for zombies
bda5186c0d6baee0f45b543513ffb0f629c9f348,ed960d2,98848080,,,2007-08-08,silence warning
00d0f794cfd7a1df3b73f28028c8768bae3fef09,bda5186,98848080,,,2007-08-08,fix various bugs
f83f7ce2f6ef5b840d8af8ed2573e1934865406f,00d0f79,98848080,,,2007-08-08,set init name
b6dc6187f7b0868f0a08e80a20c2a13c32e519ed,f83f7ce,98848080,,,2007-08-08,add DPL_USER constant
5bbba977d1257659485a924d01f1975e5d5f2c91,b6dc618,98848080,,,2007-08-08,done
5f0c20ec14dc1c97519e0843d715fd91b430e77c,5bbba97,98848080,,,2007-08-08,fix . .. unlink bug
5d0fe3445bbe19b85c32ed066b134d7e6ad8cc9d,5f0c20e,98848080,,,2007-08-08,more bugs
3fd50978a8756be8859cc5b98fca51d2e7127623,5d0fe34,98848080,,,2007-08-08,spacing
2e51e12f0917229ff2bc8dfca22c9b35172e9445,3fd5097,98848080,,,2007-08-08,make ls work on directories
35a24c8318dd784b62c57b1933ded6e880faaa55,2e51e12,98848080,,,2007-08-08,fix index bug
d80b06a1e0232f4c5e9b9c8ff635e4022e13667c,35a24c8,98848080,,,2007-08-08,iincref returns new ref
115e177400d50838986840ff382ee644f291216b,d80b06a,98848080,,,2007-08-08,standardize on not using unsigned keyword
61dff66b35bee1ba6c58271a6864d905e2c0d1ab,115e177,98848080,,,2007-08-08,fix error message
c664dd5d23d50a6baee02d0ab8e921db51178f61,61dff66,98848080,,,2007-08-08,missing void
453c6a65a20a70260e0b86a16192a65660efcbe1,c664dd5,98848080,,,2007-08-08,convert syscall dispatch to table
19b1f63813072a57c5b2d620049a4cb7f55b8af6,453c6a6,98848080,,,2007-08-08,cleaner table
c16e0916a7d82d8001289943294ef727ffe0a3e8,19b1f63,98848080,,,2007-08-08,cleaner table
9ad44da676bbc651f3727ba093a26152dd427116,c16e091,98848080,,,2007-08-08,unused
3f98d050e19e6abda1c9c563009958b90bc8e250,9ad44da,98848080,,,2007-08-08,refactor bget to be more like iget - make it clear that sleep loops
32eea7665a9349c507bcf31b5f0422827484f6cc,3f98d05,98848080,,,2007-08-08,panic like bget
95c07f82670df0540fdb8fbb61f8d3fc335e6880,32eea76,98848080,,,2007-08-08,"move ialloc body up, avoiding double check for end of loop"
c65e499f3b65f210f95be77477c39640df1da3dc,95c07f8,98848080,,,2007-08-08,help gcc
1cb183a987bb08cb0b25a6b8bd7e4011325c8ca9,c65e499,98848080,,,2007-08-08,2007
f2f062da61eaca1dee675281c3b6b95d220ab322,1cb183a,98848080,,,2007-08-08,check p->killed for long-lived sleeps
4249490230bc24524ed62a36a2e2e8483ce177bc,f2f062d,98848080,,,2007-08-08,notes
22330658fff5039b69e6b68ac3f5197c417003b6,4249490,98848080,,,2007-08-09,spacing
9583b476bf0caa3fca61f08dcb8afe138f4b4fb9,2233065,98848080,,,2007-08-09,try to use cp only for curproc[cpu()]
806f4c11f7fc737ac4f964d3489f5f37260ccea3,9583b47,98848080,,,2007-08-09,oops
ab5c2dbb592fde4219fd3b2bf8d82e2299f6f9c9,806f4c1,98848080,,,2007-08-09,Clearer namei
bc0117033440edb34ef1c0f72c0ceac5a7ee6831,ab5c2db,98848080,,,2007-08-09,The final curproc[cpu()] is now cp
3bbbaca14db70c6f255139c66a62b4cd5191462c,bc01170,98848080,,,2007-08-10,move variable declaration up
b6095304b7ee2b69d2ee4a9a7265999d1a2b9675,3bbbaca,98848080,,,2007-08-10,Make cp a magic symbol.
7d4aef6cfd36c19583fafb7ae49a69c6ce47b680,b609530,98848080,,,2007-08-10,various cleanups
9736728d23af42f740fcb217f418e3e8bdd9984d,7d4aef6,98848080,,,2007-08-10,cleanup main
3d145283a25ed9dcd8e0544e3db9d6733ab7d8b7,9736728,98848080,,,2007-08-10,tweak kalloc
6861140a667cd7219cf9bc1e051faadfc8c46c6f,3d14528,98848080,,,2007-08-10,replace bogus loops with slightly less bogus loops.
dca5b5ca2e3687f27ebf589fe3855966932840d8,6861140,98848080,,,2007-08-10,avoid assignments in declarations
2715cd35921ee748154ebdce04ed84a1e543338f,dca5b5c,98848080,,,2007-08-10,and spinlock
8139713c46aa63abb65d53fc237a21ffe91aa0bb,2715cd3,98848080,,,2007-08-10,add note
8908cc9b15a67bf8180c42af06d37f476e493e54,8139713,98848080,,,2007-08-10,correct line numbers
15b326b630d7b52321b0bdaa3af82415a0e3c110,8908cc9,98848080,,,2007-08-10,nit
5e03dd86c8de6180ddbddb16974e5af1a010f60b,15b326b,98848080,,,2007-08-10,add test for rm .
3163085ace9f530bdf6dbc83c62d5e3842728860,5e03dd8,98848080,,,2007-08-14,"Cannot use ""g"" as an arg constraint because
some memory references aren't actually valid
and gcc is a bit too smart in parsing (%0) and
a bit too dumb in knowing which memory refs
are not valid.  Using ""r"" seems to constrain gcc
to use a register as in (%eax) and not substitute
a memory reference like (-36(%ebp)).

No one really understands these things."
64659055bd8ed3717a691d0311666d94195aebee,3163085,98848080,,,2007-08-14,ditto
2ef3a64bb4923d3458bac1393dd9e205f0acd93a,6465905,98848080,,,2007-08-14,"Because limit gives the address of the last addressable
byte in the segment, the limit argument to SEG16 and SEG
needs to have 1 subtracted from it."
8c4b5fc5b33c49f74af3547df9e60012758ab5d3,2ef3a64,98848080,,,2007-08-14,"Gcc expects to be able to pick up the return
address off the stack, so put one there for it.
(Bug was hidden by bad segment limits.)"
29ff8d495c8cd67df6ee3830daea64eaa422756d,8c4b5fc,98848080,,,2007-08-14,ide_write unused => gone
f1f8dd91bc4e8b58972f17416b664f3a950092cd,29ff8d4,98848080,,,2007-08-14,formatting
8d0a83565a2b8e0ee2b7e6cab93c6ba7b5a58224,f1f8dd9,98848080,,,2007-08-14,"formatting, sleep bug fix"
4bc5056c19457f2c7128449259b770174d3361c9,8d0a835,98848080,,,2007-08-14,"formatting, simplify"
ea6e370964465783e28afc5e7c92d50096899059,4bc5056,98848080,,,2007-08-14,"i cannot prove that release before wakeup is wrong, but i cannot convince myself it is right either"
5e8c5d8bb8a54bca73ddc3e2ac0750b56bf96dcc,ea6e370,98848080,,,2007-08-14,formatting; split kbd constants into kbd.h
fe5f50a03dd4a6a96385b0bc825fdb7865cb22d2,5e8c5d8,98848080,,,2007-08-14,fixes
07ddc0fa820df0c506895e06e7e5ef09182dcc77,fe5f50a,98848080,,,2007-08-14,nit
cce27ba9fb61921436b86f48e95d85b44f535d92,07ddc0f,98848080,,,2007-08-14,formatting
2186f88c211b26e2807fbe8f0752e51dcc533ce3,cce27ba,98848080,,,2007-08-14,"formatting, cleanup"
0655445ba911b59378c57e0c58258c7d6c171880,2186f88,98848080,,,2007-08-14,cleanup loop
bcca6c6bdeacd537a9c84ec9205da06616ecb8bd,0655445,98848080,,,2007-08-20,shuffle fs.c in bottom-up order
ef30c2c7499de88862560e0560d7de7860ffad1d,bcca6c6,98848080,,,2007-08-20,no more w
e2a620da49f7e01fb93761e15ed9d40b3835400c,ef30c2c,98848080,,,2007-08-20,checkpoint - simpler namei interface
2d61a40b2059b9a198e7c4ff04c6ced88cb3ce65,e2a620d,98848080,,,2007-08-20,bug in usertests!
f32f3638f4c34fbf2fc4398878e6304612bb3283,2d61a40,98848080,,,2007-08-21,"Various cleanup:

 - Got rid of dummy proc[0].  Now proc[0] is init.
 - Added initcode.S to exec /init, so that /init is
   just a regular binary.
 - Moved exec out of sysfile to exec.c
 - Moved code dealing with fs guts (like struct inode)
   from sysfile.c to fs.c.  Code dealing with system call
   arguments stays in sysfile.c
 - Refactored directory routines in fs.c; should be simpler.
 - Changed iget to return *unlocked* inode structure.
   This solves the lookup-then-use race in namei
   without introducing deadlocks.
   It also enabled getting rid of the dummy proc[0]."
0073beee5248acc90c6bd57bb618014f3357c8f4,f32f363,98848080,,,2007-08-21,remove dead code
fbf910395282f5ea28a63b7a12580e63d9cd7d67,0073bee,98848080,,,2007-08-21,remove namelen parameter
bd39955ecc4848d79fc361cfba51cd74b37b94de,fbf9103,98848080,,,2007-08-21,ARGMAX -> MAXARGS
c88bf235fe2e5df91d0f486c3a5fc5a5a2e273da,bd39955,98848080,,,2007-08-22,check unlink of non-empty directory
6bf2e5c898db477300189de1a5083a9692a6cbb6,c88bf23,98848080,,,2007-08-22,add ln
3dcf889c1b5c2c5ddf5b4756f2a731c344f6f08e,6bf2e5c,98848080,,,2007-08-22,cleanup
eaea18cb9cbb86018dae8f1decfa217ecbe85fa5,3dcf889,98848080,,,2007-08-22,"PDF at http://am.lcs.mit.edu/~rsc/xv6.pdf

Various changes made while offline.

 + bwrite sector argument is redundant; use b->sector.
 + reformatting of files for nicer PDF page breaks
 + distinguish between locked, unlocked inodes in type signatures
 + change FD_FILE to FD_INODE
 + move userinit (nee proc0init) to proc.c
 + move ROOTDEV to param.h
 + always parenthesize sizeof argument"
f0721f1be4c017d7e8d9d79b249fa04dda14a9ec,eaea18c,98848080,,,2007-08-22,tweaks
15868c4bbfff7f913487497d5165a36be1be0424,f0721f1,98848080,,,2007-08-22,better comment
e9ddc7c099b8f34a76295b60e0d93e033a9272b7,15868c4,98848080,,,2007-08-22,NREQUEST = NBUF
1d7839a1daab5ebc37c4be4eded849714ff8f329,e9ddc7c,98848080,,,2007-08-22,my mistake found by robert
3a057d12aed586b01d808d55a8b4c700523bbd95,1d7839a,98848080,,,2007-08-23,avoid hardcoding init as pid 1 proc[0]
b1fb19b6df716c0ad30b05236c356bc34457c70b,3a057d1,98848080,,,2007-08-23,Use parent pointer instead of ppid.
649bc99fe4c0eba9431745ac55bd771852d47bf9,b1fb19b,98848080,,,2007-08-23,"align, sort"
2aae7205373580cb5ab34731b202af9afa32caf3,649bc99,98848080,,,2007-08-24,omit needless ampersands
68ae4cc127af9ba0cea53e009568d660a86af57e,2aae720,98848080,,,2007-08-24,comment what +m means; omit needless __
3d5f21ee1f1d0521653c54257fe3728fbaa9a556,68ae4cc,98848080,,,2007-08-24,"test concurrent open/unlink of same file (ok)
test files with holes (not ok)"
b55513796f2234d1fbdb816015506f981befb60d,3d5f21e,98848080,,,2007-08-24,"oops, O_CREATE doesn't truncate, so holes can't exist, thus no bug"
2036534834841641edf3a6d1e142c4798e146b7b,b555137,98848080,,,2007-08-24,add missing iput() at end of _namei()
5d1f4b8a3ae587c918293f79e44e87e6f185f7de,2036534,98848080,,,2007-08-24,"Rework comments a bit.

Move initialization of %sp after
protected mode jump and change to %esp."
2bc72bdd29d605f7106204cc8293f9e5be4113e9,5d1f4b8,98848080,,,2007-08-24,bring bootasm and bootother more in sync
902b13f5d6bab19f7a218acc655421cdb63f4313,2bc72bd,98848080,,,2007-08-24,"simplify ide queuing
nits in comments"
124f32ae38260ff32ddd176d37ebb98d19675178,902b13f,98848080,,,2007-08-24,tweak
895c182d74d331be10826e80f8247aaae4b195db,124f32a,98848080,,,2007-08-24,finish comments
4d39b63388237f5a30206b9df9999bc9f007b7bf,895c182,98848080,,,2007-08-24,nits
8e88f9e2c617cc1002039c6e37c3c831319b1f8f,4d39b63,98848080,,,2007-08-24,comment nits
1b789e1d50df4e7b98fa131fc29caf29a5f38bfa,8e88f9e,98848080,,,2007-08-24,"Remove puts in favor of printf.
Allow multiple arguments to ls."
4bcd0f6a77e20c78632b64fe6ee57129556a531d,1b789e1,98848080,,,2007-08-24,"Add yield system call, for zombie test program (bad idea?)."
5af5f6aa7f52db85f0f22555ae39395dbe68b731,4bcd0f6,98848080,,,2007-08-24,Reorder spinlock.c: acquire and release first
e0e7d07e5afc1a073b659cbf0b8594071f05a816,5af5f6a,98848080,,,2007-08-24,test that fork fails gracefully
dd8689743404e31dc227a4f8ccff1b6d756dfee9,e0e7d07,98848080,,,2007-08-24,make wakeup1 static
ffa58d3616e5d829faa8e8a201f25c785800ccb2,dd86897,98848080,,,2007-08-24,align
97ac612fb16748e6b011de4deaa803ec5f0afef8,ffa58d3,98848080,,,2007-08-24,nits
fa1b34106ad99cf8021227b4c1e62353ae4d0fda,97ac612,98848080,,,2007-08-24,not first anymore
07090dd705df557cba5ce4ea46b2a274876343a5,fa1b341,98848080,,,2007-08-24,"Remove struct uinode.
Remove type arg to mknod (assume T_DEV)."
aa6824ab64be037bfce9b0d991e6692282f8c1ab,07090dd,98848080,,,2007-08-24,remove unused variable
766ba5cc06b45439cd3987aa782147041dab65c4,aa6824a,98848080,,,2007-08-24,first ever correct use of strncpy
872a63e104ab34b9588f404fa2d7ac05e789eacf,766ba5c,98848080,,,2007-08-24,nits
cb30c81860a965e46e53d6f71633da7898299890,872a63e,98848080,,,2007-08-24,nit
d7b44dbcfc6c0eec97c60832409f75fc64444d1d,cb30c81,98848080,,,2007-08-24,minor cleanups
8d2e9a4867c21f1ff84b78cd82f386394d768b3a,d7b44db,98848080,,,2007-08-24,shuffle for formatting
8e67005320c56cac63654bcf61a8128bd89e4ff9,8d2e9a4,98848080,,,2007-08-27,cut bootmain to 1 sheet
7bb73cdbc78a1f0df07539125e681c084b66d876,8e67005,98848080,,,2007-08-27,nits
e0240674f5b30adf92714162cf51dabc43b17aa7,7bb73cd,98848080,,,2007-08-27,make kfree loop same as kalloc
e1872bb130da5a9b198ca484da8534304ea9fc79,e024067,98848080,,,2007-08-27,"formatting, fix comment"
efc12b8e616ed3394468c1802da8e1f39e387cd3,e1872bb,98848080,,,2007-08-27,Replace yield system call with sleep.
d003d232fc34d92426aed61af13d3815355c1db8,efc12b8,98848080,,,2007-08-27,"Another attempt at the bio.c comment.

Rename B_WRITE to B_DIRTY and then let ide.c
maintain the B_VALID and B_DIRTY flags."
a505fd66511db520df12f3fcb83d49b395e4da8a,d003d23,98848080,,,2007-08-27,"FS cleanup.

Add utility routines bzero, readsb so that balloc, bfree fit on one page.
Make balloc loop clearer."
6c34f97cb889456c2340a3935d1253f99ec13522,a505fd6,98848080,,,2007-08-27,tell what an inode is
7895178df374a1a89c193e5c83a37a35243aadc2,6c34f97,98848080,,,2007-08-27,nits
1ccff18b2404e18fc889901f85b72777193c0b3f,7895178,98848080,,,2007-08-27,fileincref -> filedup (consistent with idup)
13491bf367a64f65cf77b8a8fbc89c146db4fae8,1ccff18,98848080,,,2007-08-27,formatting shuffle
e79b16598cce3a69d5f4711a6795cec9037056b7,13491bf,98848080,,,2007-08-27,nits
629c1fe743c681c950805b2f3802c90026e58224,e79b165,98848080,,,2007-08-27,"Edit exec.

Do not commit to new memory image until
nothing can go wrong, avoiding bad2 case.

Be sure to allocate enough stack space for argv.

Load executable before initializing stack, to
keep ELF loops together.

Make argv loop clearer."
603deefc6b18610ce89f44c18fd933929588d3ea,629c1fe,98848080,,,2007-08-27,oops
3ce164707868e188ebdba315141d2d8ca1704285,603deef,98848080,,,2007-08-27,nits
da942337841c41c4ed6abe3b0eee9a753d551b6f,3ce1647,98848080,,,2007-08-27,nits
112873bc6501b4763205f3f5ca6a120888217c68,da94233,98848080,,,2007-08-27,nits
b63bb0fd00cb34ed1d776e6836f5a2bb90de98c1,112873b,98848080,,,2007-08-27,"Clean up lapic code.

One initialization function now, not three.
Use #defines instead of enums (consistent with other code, but sigh).

Still boots in Bochs in SMP mode."
99b11b6c64c17b94288c659e9398261e69a0cf75,b63bb0f,98848080,,,2007-08-27,"Simplify MP hardware code.
Mainly delete unused constants and code.

Move mp_startthem to main.c as bootothers."
558ab49f13634d972e956020a12d14fdb1416b94,99b11b6,98848080,,,2007-08-27,delete unnecessary #include lines
19b42cc0787da77516c0edadd6f206a09c4d936d,558ab49,98848080,,,2007-08-27,Rename main0 to main.
64c47374772c2311bf6d751869eabb95b017c2a7,19b42cc,98848080,,,2007-08-27,make code match comment
3a2310f7465ed92db7ce9ecfd619e8ac2011a789,64c4737,98848080,,,2007-08-27,make code match comment
773159fbeee3ae4a22ffba37d36bd1c997d32440,3a2310f,98848080,,,2007-08-27,make code match comment
a8acdf02eec50333066a678adf263a16b323c87c,773159f,98848080,,,2007-08-27,no more ioapic.h
fa74a74984641565797adb3713e244008c9459ea,a8acdf0,98848080,,,2007-08-27,move mp.h to low-level
c1bfbfa2f7b995ee38ef138ca3250274213dc010,fa74a74,98848080,,,2007-08-28,oops
f0d11fea8251ef959cf1197b62e523922855df3a,c1bfbfa,98848080,,,2007-08-28,Move keyboard code into kbd.c; add backspace handling.
1b25f3b057fb61f0f099922058b52478fb1c98db,f0d11fe,98848080,,,2007-08-28,New shell.
8970df0c1bc3b69829d2ce9cc09550c7fcd48f70,1b25f3b,98848080,,,2007-08-28,"No one is going to find this inode.
There is only one ref to it -- the caller --
and no links to it."
2868ca0f37232ba67b3244c6563d4b4c3c65b941,8970df0,98848080,,,2007-08-28,comment non-check of cp->killed
a759b8a45098b7f52a92c5415f48becd2a69b02d,2868ca0,98848080,,,2007-08-28,formatting tweaks
3341e30f6e080c93e61e60410052bc7290dd7e16,a759b8a,98848080,,,2007-08-28,nit
e6ffaa9d8eb4755e82cb7f4ebb47e70e7c8df42d,3341e30,98848080,,,2007-08-28,oops
43baa1f22417ef920c718731d3a2741c52c516fb,e6ffaa9,98848080,,,2007-08-28,nit
b9432848937dc5250a90f9c9325af5bd4a59ade9,43baa1f,98848080,,,2007-08-28,"handle printf(""%s\n"", 0)"
1baead533fe8d10d91b10967ac9c536fa2e41585,b943284,98848080,,,2007-08-28,oops
4c917f6df277025dbec740bfe35456ccb52b164b,1baead5,98848080,,,2007-08-28,do not call proc_exit until lock dropped
a1af36650054eb683233105749bfa2169d20042d,4c917f6,98848080,,,2007-08-28,add struct stat decl
76f09d7dd00f84bf69f7b83983c3b4843223f616,a1af366,98848080,,,2007-08-28,clean up Makefile; add wc
7834cca60426ea156822ba05d702cf56a914467d,76f09d7,98848080,,,2007-08-28,remove _ from pipe; be like file
51c0c1a8fefe26ad057f064db9191b3904739a31,7834cca,98848080,,,2007-08-28,avoid double echo
1a89baa7c650dfdaafb07591c387d747a96f16a2,51c0c1a,98848080,,,2007-08-28,add grep; add lost echo
eae04163a758cf1fa8cc47c8668e1e769f289bc6,1a89baa,98848080,,,2007-08-28,runoff
9e82bfb04cc5644f32823fa9ec406261f05073b8,eae0416,98848080,,,2007-08-28,rename 8253pit.c to timer.c
2d7d2b18cf5f1a565458574323e6f5b3bd6352a3,9e82bfb,98848080,,,2007-08-28,rename 8253pit -> timer
c2f354e4e1abb4eaea466d36c26623e47917f74b,2d7d2b1,98848080,,,2007-08-28,clumsy blank pages to make some files align better
6eed1ee9b0e752109285bb44421cc9d59b0c171c,c2f354e,98848080,,,2007-08-28,formatting
0c931af50fe311c402c2a4ee8e263e28f46aa410,6eed1ee,98848080,,,2007-08-28,nits
b52dea08bc1252bd842bf86f34d912c9ab7a02df,0c931af,98848080,,,2007-08-28,never returns!
818fc0125e7d73fdf4f1a94f178254e5d05c9831,b52dea0,98848080,,,2007-08-28,replace setjmp/longjmp with swtch
fc210467548dabbbf196227ec279b3c3301c9951,818fc01,98848080,,,2007-08-28,nit
c35c064e0498db832a9440c5d031d5aaefd1f515,fc21046,98848080,,,2007-08-28,cmain -> bootmain
e3f271e88092683d1d1866ccffffce8528698f48,c35c064,98848080,,,2007-08-28,oops
d844f0f9d955d9ddb2cb4cda1b0e544e7f9ed6ce,e3f271e,98848080,,,2007-08-28,"Change dev read/write functions
to take inode* instead of minor number.

Unlock console inode during console_read
and console_write.  Otherwise background
processes cannot write to console while the
shell is reading it waiting for input."
a491dba00c4ff5c76a6287f40d045aa9aedc0d61,d844f0f,98848080,,,2007-08-28,more cmain -> bootmain
3e1eaf226d501fc4f57592e1c75c885f8b2e5d99,a491dba,98848080,,,2007-08-28,fix offsets
c1b100e93044469de30c634107bc645361cc1a73,3e1eaf2,98848080,,,2007-08-28,nits
e4d6a21165c01dd743a68e323fb06708ef820ab7,c1b100e,98848080,,,2007-08-28,more consistent spacing
5516be1fed10ac87848668964c495266d02ae915,e4d6a21,98848080,,,2007-08-28,spaces around else for rtm
eb52c7de1dea182cc3519dc07c62b7f5fe2dfb15,5516be1,98848080,,,2007-08-28,comments; rename irq_ to pic_
5573c8f296091a484e486dcf153ce60b7c632df3,eb52c7d,98848080,,,2007-08-28,"delete proc_ on proc_exit, proc_wait, proc_kill"
cffa9543012ee0bc2a1d355ed00839b03fe7ae0c,5573c8f,98848080,,,2007-08-28,nits
f04006009263d18f3b38b905a3ed18e029963351,cffa954,98848080,,,2007-08-28,nits
68a2d5373d4f7d37a263d13e013882b86232c482,f040060,98848080,,,2007-08-28,match README
bf2932a6863e3af0226cd1635f7a404a475f5ad9,68a2d53,98848080,,,2007-08-28,final nits
bc54fa391561a4b4700184ad130452bd4d5d48a6,bf2932a,98848080,,,2007-08-29,spelling
febdc07c35a2a3e95a3525d2244951dd56a4872d,bc54fa3,98848080,,,2007-08-29,bootothers now in main
55401f2adbf9917de75d8bc98fd8775db31b3c9a,febdc07,98848080,,,2007-08-30,final xv6 for 2007
42f3c3f7be9717b66ba6e133a113c0f751c53133,55401f2,98848080,,,2007-08-30,DO NOT MAIL: xv6-rev1
05109382d6392163f64ed5be66232a2d33f108fe,42f3c3f,98848080,,,2007-08-30,tweak
de1329dda231ed4b376727c7d2fa50ed27505740,0510938,98848080,,,2007-08-30,longjmp -> swtch in comments
71d5bf4d08b3ce328fe403f464f4ec95f2d8ca29,de1329d,98848080,,,2007-08-30,oops - broke arg counting
37321196a4d2a3893422a9f628de41a8a128b47f,71d5bf4,98848080,,,2007-08-30,oops - broke circular buffer
fbd8857d4d5edcbf97185d95fa57406d36e75b7b,3732119,98848080,,,2007-08-30,make new Homework 8 work
9863fea78cf88b40827d0d61ced2608278094ea4,fbd8857,98848080,,,2007-08-30,clumsy cd
e51ae8a2724005dd69c72b28b4a5f218136c1fa4,9863fea,98848080,,,2007-08-30,do not toss .ps
ef2185247d468309a375b0e16d73e8723cdf29a0,e51ae8a,98848080,,,2007-08-30,symlink implementation
ab4cedb5930cb21f0a4810f64be0ab6cfca026f3,ef21852,98848080,,,2007-08-31,continuous quality management
e9f8419fbe33a94f4d0b18ec8c509156bdb84d2a,ab4cedb,98848080,,,2007-09-05,sh
411ee74127720fe68a7d971cadd91dea4cb7a608,e9f8419,98848080,,,2007-09-15,fix comments
6197c042088bab45cb7d183e08032146b561f8b7,411ee74,98848080,,,2007-09-18,Fix compilation on 64-bit machines (thanks to andersk for patch)
d7a90d3b5c73e2f5698d1635812164c0cfee32dc,6197c04,98848080,,,2007-09-19,This should fix building on FreeBSD
3eda2714e67a499e833ec33bc27f4c6bf45638eb,d7a90d3,98848080,,,2007-09-25,"tell SETGATE to leave interrupts on for T_SYSCALL
panic if unknown fault with CPL=0 (i.e. in kernel)"
355073ea9e7528e45143efaa9631efcf159a2b68,3eda271,98848080,,,2007-09-25,"oops, interrupts on in syscall traps doesn't work after all"
d5596cd61dd588781cde4b647075e39f07608c0a,355073e,98848080,,,2007-09-26,"Apparently the initial interrupt count lapic[TICR]
must be set *after* initializing the lapic[TIMER] vector.

Doing this, we now get clock interrupts on cpu 1.
(No idea why we always got them on cpu 0.)

Don't write to TCCR - it is read-only."
56c1a151d2e3e0d10bf1b7c69e64fcdf35cc1f61,d5596cd,98848080,,,2007-09-26,debugging prints
fbaa7b428e3292dec10781f5fa5c9a3eae982426,56c1a15,98848080,,,2007-09-26,various comment and print tweaks
90d975e9c8a540efb380435f0dfc1369bad684ae,fbaa7b4,98848080,,,2007-09-26,comment bochs nonsense
666f58c711eafbdccb8abfe530b935505ab6eaa6,90d975e,98848080,,,2007-09-27,"believe it or not, this was working

the macro expansion of ""char *cp;"" turned into
char *(curproc[cpu()]);  which declares a dynamically
sized array of char* called curproc.

so then &cp == &(curproc[cpu()]) was actually a
stack variable as ""expected"".  it was one past the
end of the array, but the implicit alloca allocated
more than was necessary.

do not tell me that making cp a #define was a bad idea.
there are worse problems to fix.  more on that later."
b30ab3f5af135b797f58f0977e2fce5be282a9c4,666f58c,98848080,,,2007-09-27,use standard bios location
ad12b487b5d99ede06b4353d1ccb4179acfb1851,b30ab3f,98848080,,,2007-09-27,"changes since two days ago:

drop , address=0xf0000 from romimage line.
newer bochs has a 128k bios that it loads elsewhere.
so let bochs decide where the romimage goes.

change cpu quantum to 1 (default is 5, max is 16)
in an attempt to provoke more races.  only provokes
them slightly more frequently, may not be worth
the slowdown."
d522571068b91098b725e311b3afc8fe78913281,ad12b48,98848080,,,2007-09-27,make slow bigdir last test
75506c6655eadf08cbef7772781a30b5527a72cf,d522571,98848080,,,2007-09-27,use console lock
c8919e65379f13005d1ba6f50a87adc72cdfb93d,75506c6,98848080,,,2007-09-27,"kernel SMP interruptibility fixes.

Last year, right before I sent xv6 to the printer, I changed the
SETGATE calls so that interrupts would be disabled on entry to
interrupt handlers, and I added the nlock++ / nlock-- in trap()
so that interrupts would stay disabled while the hw handlers
(but not the syscall handler) did their work.  I did this because
the kernel was otherwise causing Bochs to triple-fault in SMP
mode, and time was short.

Robert observed yesterday that something was keeping the SMP
preemption user test from working.  It turned out that when I
simplified the lapic code I swapped the order of two register
writes that I didn't realize were order dependent.  I fixed that
and then since I had everything paged in kept going and tried
to figure out why you can't leave interrupts on during interrupt
handlers.  There are a few issues.

First, there must be some way to keep interrupts from ""stacking
up"" and overflowing the stack.  Keeping interrupts off the whole
time solves this problem -- even if the clock tick handler runs
long enough that the next clock tick is waiting when it finishes,
keeping interrupts off means that the handler runs all the way
through the ""iret"" before the next handler begins.  This is not
really a problem unless you are putting too many prints in trap
-- if the OS is doing its job right, the handlers should run
quickly and not stack up.

Second, if xv6 had page faults, then it would be important to
keep interrupts disabled between the start of the interrupt and
the time that cr2 was read, to avoid a scenario like:

   p1 page faults [cr2 set to faulting address]
   p1 starts executing trapasm.S
   clock interrupt, p1 preempted, p2 starts executing
   p2 page faults [cr2 set to another faulting address]
   p2 starts, finishes fault handler
   p1 rescheduled, reads cr2, sees wrong fault address

Alternately p1 could be rescheduled on the other cpu, in which
case it would still see the wrong cr2.  That said, I think cr2
is the only interrupt state that isn't pushed onto the interrupt
stack atomically at fault time, and xv6 doesn't care.  (This isn't
entirely hypothetical -- I debugged this problem on Plan 9.)

Third, and this is the big one, it is not safe to call cpu()
unless interrupts are disabled.  If interrupts are enabled then
there is no guarantee that, between the time cpu() looks up the
cpu id and the time that it the result gets used, the process
has not been rescheduled to the other cpu.  For example, the
very commonly-used expression curproc[cpu()] (aka the macro cp)
can end up referring to the wrong proc: the code stores the
result of cpu() in %eax, gets rescheduled to the other cpu at
just the wrong instant, and then reads curproc[%eax].

We use curproc[cpu()] to get the current process a LOT.  In that
particular case, if we arranged for the current curproc entry
to be addressed by %fs:0 and just use a different %fs on each
CPU, then we could safely get at curproc even with interrupts
disabled, since the read of %fs would be atomic with the read
of %fs:0.  Alternately, we could have a curproc() function that
disables interrupts while computing curproc[cpu()].  I've done
that last one.

Even in the current kernel, with interrupts off on entry to trap,
interrupts are enabled inside release if there are no locks held.
Also, the scheduler's idle loop must be interruptible at times
so that the clock and disk interrupts (which might make processes
runnable) can be handled.

In addition to the rampant use of curproc[cpu()], this little
snippet from acquire is wrong on smp:

  if(cpus[cpu()].nlock == 0)
    cli();
  cpus[cpu()].nlock++;

because if interrupts are off then we might call cpu(), get
rescheduled to a different cpu, look at cpus[oldcpu].nlock, and
wrongly decide not to disable interrupts on the new cpu.  The
fix is to always call cli().  But this is wrong too:

  if(holding(lock))
    panic(""acquire"");
  cli();
  cpus[cpu()].nlock++;

because holding looks at cpu().  The fix is:

  cli();
  if(holding(lock))
    panic(""acquire"");
  cpus[cpu()].nlock++;

I've done that, and I changed cpu() to complain the first time
it gets called with interrupts disabled.  (It gets called too
much to complain every time.)

I added new functions splhi and spllo that are like acquire and
release but without the locking:

  void
  splhi(void)
  {
    cli();
    cpus[cpu()].nsplhi++;
  }

  void
  spllo(void)
  {
    if(--cpus[cpu()].nsplhi == 0)
      sti();
  }

and I've used those to protect other sections of code that refer
to cpu() when interrupts would otherwise be disabled (basically
just curproc and setupsegs).  I also use them in acquire/release
and got rid of nlock.

I'm not thrilled with the names, but I think the concept -- a
counted cli/sti -- is sound.  Having them also replaces the
nlock++/nlock-- in trap.c and main.c, which is nice.


Final note: it's still not safe to enable interrupts in
the middle of trap() between lapic_eoi and returning
to user space.  I don't understand why, but we get a
fault on pop %es because 0x10 is a bad segment
descriptor (!) and then the fault faults trying to go into
a new interrupt because 0x8 is a bad segment descriptor too!
Triple fault.  I haven't debugged this yet."
0fe118f3f6ce989282ca9825a8004e140276ecc8,c8919e6,98848080,,,2007-09-27,don't call it ss - that's the stack segment
47212719617ddc3900a8ca4012944c69b93ea765,0fe118f,98848080,,,2007-09-27,"use larger, allocated cpu stacks"
b5dcebdbebcac9beb7efd6b27aeb390293dc8334,4721271,98848080,,,2007-09-27,"better lapic writes, suggested by cliff"
8c8b748a2f0f10188c1a58c529239fff3a3b1b01,b5dcebd,98848080,,,2007-09-27,now spllo is okay
39c3fb1b157927058f24b72d43be6f15c1d422b7,8c8b748,98848080,,,2007-09-27,overkill: use segments to catch stack overflow (delete before next year)
3807c1f20b5f7dca7ec7ca4bbe38bc5904e980ff,39c3fb1,98848080,,,2007-09-27,rename splhi/spllo to pushcli/popcli
aefc13f8ba13475fa721d6da837db5e368ee1b0a,3807c1f,98848080,,,2007-09-27,nit
ce2e7515552adca3a60e349de2931112736d17bf,aefc13f,98848080,,,2007-09-27,"test: store curproc at top of stack

I don't actually think this is worthwhile, but I figured
I would check it in before reverting it, so that it can
be in the revision history.

Pros:
  * curproc doesn't need to turn on/off interrupts
  * scheduler doesn't have to edit curproc anymore

Cons:
  * it's ugly
  * all the stack computation is more complicated.
  * it doesn't actually simplify anything but curproc,
    and even curproc is harder to follow."
4f74de0edc243ffdae0233eb5c84d09c44677ccf,ce2e751,98848080,,,2007-09-27,"okay, that was long enough - revert"
c95bde8163eca7a19c95f3b05156e0ad33312589,4f74de0,98848080,,,2007-09-27,yank out stack overflow checking ugliness
f97f0d2b3d3afbad3ef154b047f1b0408fd7288b,c95bde8,98848080,,,2007-09-27,cleaner
ab08960f6402f5c7cbb7b6e81694a60b6abed4c8,f97f0d2,98848080,,,2007-09-27,"Final word on the locking fiasco?

Change pushcli / popcli so that they can never turn on
interrupts unexpectedly.  That is, if interrupts are on,
then pushcli(); popcli(); turns them off and back on, but
if they are off to begin with, then pushcli(); popcli(); is
a no-op.

I think our fundamental mistake was having a primitive
(release and then popcli nee spllo) that could turn
interrupts on at unexpected moments instead of being
explicit about when we want to start allowing interrupts.

With the new semantics, all the manual fiddling of ncli
to force interrupts off in certain sections goes away.
In return, we must explicitly mark the places where
we want to enable interrupts unconditionally, by calling sti().
There is only one: inside the scheduler loop."
af7366c945e93eaee149e1b37c9dcf03c809b3a2,ab08960,98848080,,,2007-09-27,"interrupts during system calls

""It just works."""
c840f3ecdc718c4a6eb6fbd9e0cbb0a012c3adf4,af7366c,98848080,,,2007-09-30,tricks
9fd9f80431ad85552c0969831a3ccc3e800ac464,c840f3e,98848080,,,2007-09-30,"Re: why cpuid() in locking code?

rtm wrote:
> Why does acquire() call cpuid()? Why does release() call cpuid()?

The cpuid in acquire is redundant with the cmpxchg, as you said.
I have removed the cpuid from acquire.

The cpuid in release is actually doing something important,
but not on the hardware.  It keeps gcc from reordering the
lock->locked assignment above the other two during optimization.
(Not that current gcc -O2 would choose to do that, but it is allowed to.)
I have replaced the cpuid in release with a ""gcc barrier"" that
keeps gcc from moving things around but has no hardware effect.

On a related note, I don't think the cpuid in mpmain is necessary,
for the same reason that the cpuid wasn't needed in release.

As to the question of whether

  acquire();
  x = protected;
  release();

might read protected after release(), I still haven't convinced
myself whether it can.  I'll put the cpuid back into release if
we determine that it can.

Russ"
943fd378a1324ca60da72b271769fea4a86e36cb,9fd9f80,98848080,,,2007-10-01,"Incorporate new understanding of/with Intel SMP spec.

Dropped cmpxchg in favor of xchg, to match lecture notes.

Use xchg to release lock, for future protection and to
keep gcc from acting clever."
949352af6695cfbfc91a5c0e24ddae95c497b008,943fd37,98848080,,,2007-10-12,"Model verifying that wakeup really
can be called after release without
causing deadlock."
fd6b029401e359ce25cf0c3d8c0f047b2e2a5632,949352a,98848080,,,2007-10-20,proc_wait -> wait
a6c4711a38d3f8f3a4737558a4682ea38fcfaa7a,fd6b029,98848080,,,2007-11-28,"bda[0xE] is a 16-bit segment number,
not a real address.  So shift 4.

Reported by Silas.

Jim McKie says this code only matters
on ancient EISA MP systems."
4f06ae0d4252796ee3245ecd83ec5ea105d6a75b,a6c4711,98848080,,,2007-11-28,More complete lapic startup (thanks Silas)
c2258bf4d249c34f26a4ed3c2d6ced81744c654e,4f06ae0,98848080,,,2007-11-28,fork minibug
eadbd55af2b5d5a7e20f9b6803686ceed01f43ec,c2258bf,98848080,,,2007-12-20,oops - wrong bit (vic zandy)
174729fc55509ceb6787467785200716de2d76d0,eadbd55,98848080,,,2008-08-20,xv6: latest (as of January 2008)
5b7f8cbe7cda336b3a23c1b16fa36ef282b13803,174729f,98848080,,,2008-08-20,bochs faster
9b62657ecdbbdafda3a2e7a27ff50195468681b3,5b7f8cb,98848080,,,2008-08-20,formatting updates
150785a1fdfd8b6d81ec60668932d547b887092e,9b62657,98848080,,,2008-08-20,add nice font
1808b2f1b3ba3eefe777ffcc87073ae45a788ad5,150785a,98848080,,,2008-08-20,now rev2
5c5470a2fa608204326c6eb06647037532a14655,1808b2f,98848080,,,2008-08-21,fix obvious printf nits after reading through code
02cc595f28f10067dcaacc7e147a3db7da277244,5c5470a,98848080,,,2008-08-22,"clean up circular buffers, so pipe can queue 512 bytes rather than 511"
56082468ea935c09ab2ed89ee83f9b0869f580b1,02cc595,98848080,,,2008-08-28,"the old explanation of AP startup might have been correct, but
I understand this one."
98754d687e1999eecf8de1b4557218f4f5c055c5,5608246,98848080,,,2008-08-28,avoid a bug w/ exit()
ee3f75f229742a376bedafe34d0ba04995a942be,98754d6,98848080,,,2008-08-28,simplify growproc
f53494c28e362fb7752bbc83417b9ba47cff0bf5,ee3f75f,98848080,,,2008-09-03,DO NOT MAIL: xv6 web pages
e87dca5cc55fb4452a38d4a1130a61cf82faa563,f53494c,98848080,,,2008-09-03,"nits in index.txt
add slides for shell, x86 intro, x86 virtual memory  (deleted JOS from slides)"
35a6cf84ec5ee903d2c06726f89a7816fd39d267,e87dca5,98848080,,,2008-09-03,"make pdf, ps, tarball"
f68317533e8dc6cebd37b2d8c95d09ee666f90b0,35a6cf8,98848080,,,2008-09-03,make bochsrc work for bochs 2.2.6
e9ae6f5cbe1cd6098dd4310c72688869e9b489ca,f683175,98848080,,,2008-09-09,add copyright notice
4651d04ad13f4f49a54e745397c5fecdfe60beca,e9ae6f5,98848080,,,2008-09-11,omit *.d from tar file
adcd16c3f7588b4a28d37495f05e94278c9e3a1e,4651d04,98848080,,,2008-09-11,restore std toolprefix
c7317d4dc74bcb1d0e939c6b06a724fce1510a4e,adcd16c,98848080,,,2008-09-24,"always save and restore %fs, %gs to ensure old segment entries are never
accessible to user from the hidden CPU segment registers."
0159c8bb941772d91537037ff2489a9261d740ca,c7317d4,98848080,,,2008-09-24,trap 9 does not push ec: fix from Greg Price <price@mit.edu>
be38c8413e1841dc8171555e8da66f3ca8a2e2bb,0159c8b,98848080,,,2008-09-28,"document lock->locked=0 vs xchg(&lock->locked, 0)"
2ce40d7088932b2875739379f54f7d74fc2e374c,be38c84,98848080,,,2008-10-08,be clear what the root i-number is
6186836d28944dbe3451bc154c0268ac2c90a313,2ce40d7,98848080,,,2008-10-12,"fix: when two names only differed in case, crossrefs only included one of them.
thanks to greg price."
c780dbf96735123f19ad022cefd555614725fc88,6186836,98848080,,,2008-10-12,"include explicitly initialized globals (int x = 0;) in cross-refs,
also thanks to greg price."
f73b81205e6c3ffc14b6f657f50ce3dd1fc99722,c780dbf,98848080,,,2008-10-12,minor cleanup with STUB macro
289bbef733c00be99491499dae63ae3ae1952fdb,f73b812,98848080,,,2008-10-12,minor cleanup
00ce31c09cd46331a0b509ac7987dd3ce5def1f3,289bbef,98848080,,,2008-10-15,update .cvsignore
15ce79de141f66c7dd2f2948ce4584a2d31f7040,00ce31c,98848080,,,2008-10-15,check cp->killed before returning to user from a timer interrupt
228e500a0c2b5a26492c84f73951a46c58c86509,15ce79d,98848080,,,2008-10-15,"save cpus.intena in sched(), so we get the right EFLAGS.IF value once a
timer-preempted kernel thread resumes execution in trap() after yield().
otherwise the kernel could get an arbitrary number of nested timer intrs."
c100d9ee2d7d02253b55349bf55796efb3be5699,228e500,98848080,,,2008-10-15,cleaner swtch.S
deca9fef83450fa9659b750497d46e7887064aa5,c100d9e,98848080,,,2008-10-15,indent
e670a4835858b48e1568742dbe939800e2d44c13,deca9fe,98848080,,,2008-10-15,"as rtm noticed, avoid doubly-freeing pipe page"
e1626709d6bfcf82dc630e3ae15887e05bb3aa47,e670a48,98848080,,,2008-10-16,free the indirect block
f3e87bc838a09163f91ab79696a34f8c19386c55,e162670,98848080,,,2008-10-16,"make mkdir crash-safer, as noticed by many students on midterm"
15a269363777c0cd95e2a56e7def0a4dc3122e21,f3e87bc,98848080,,,2008-10-17,try harder to get directory refcounts right
8eb20827c273df183986f95fc13cad8b28ea8ae6,15a2693,98848080,,,2008-10-20,Explain why itrunc() is OK w.r.t. crashes.
4003e9bed8a306048c7dfe7143949778f96f7273,8eb2082,98848080,,,2009-03-08,xv6/x86.h: inline assembly cleanup
c396d065d3f5e5a0f966857d710a434a2f2db066,4003e9b,98848080,,,2009-03-08,"xv6/x86.h: add stosb, fix bugs in insl/outsl (rep not repne)"
8220135362c02b5e4a5532a561c6c1bd4b4d1540,c396d06,98848080,,,2009-03-08,xv6: use stosb for memset
b7f653dc49dd4af29a3b7bdd66cd712bea166623,8220135,98848080,,,2009-03-08,"xv6: boot loader adjustments

do Bochs breakpoint and spin in bootasm.S.
not needed in bootmain too.
fix readseg bug (rounding of va).
zero segments when memsz > filesz.
no need to clear BSS in kernel main.
make bootother.S like bootasm.S"
2157576107d6e81c643e14e134b60b8ae519c256,b7f653d,98848080,,,2009-03-08,be consistent: no underscores in function names
d827c8f3c82208c1df5c13b191880824f864fa91,2157576,98848080,,,2009-05-26,"Add MIT license file; update xv6-rev2.tar.gz with LICENSE.
Other files unchanged."
0ca9ca0c55922f72dbf324c4ac1aecf8069d1dbe,d827c8f,98848080,,,2009-05-31,slight rearrangement; sleep on b not buf.
74afa70d3051553df46d1ea0d76149a7a86c0a47,0ca9ca0,98848080,,,2009-05-31,"Add serial port input/output.
Delete parallel port output.
Works well with qemu -nographic mode."
0c7f483838c48db05e7ea44232a55135d7c262a0,74afa70,98848080,,,2009-05-31,move T_DIR etc into stat.h; move type up
19333efb9eb634f17bea41d0cec8ee28c595cce8,0c7f483,98848080,,,2009-05-31,"Some proc cleanup, moving some of copyproc into allocproc.

Also, an experiment: use ""thread-local"" storage for c and cp
instead of the #define macro for curproc[cpu()]."
dae9b0d48a94683c0a49e88e4b739482788d7175,19333ef,98848080,,,2009-05-31,missed this file in last checkin
215738336aec0d5118a90a79d380c41910f6ee4b,dae9b0d,98848080,,,2009-05-31,move fork into proc.c
030a47736fbb0febddce2647e5a80b98ca409695,2157383,98848080,,,2009-05-31,tab police
ba6cd8a685cdf86f308ba8c8cd1faa39adf86fa5,030a477,98848080,,,2009-05-31,drop NADDRS and INDIRECT; too many names
e97519a6d2efd56eb5b5ff2e4c4b20048a33c7af,ba6cd8a,98848080,,,2009-05-31,sync with c; .text is implied
7b644318dd3b17fe5ec0229db956119986082738,e97519a,98848080,,,2009-05-31,clean up %fs %gs use
c47bc4fd54c1787e429a9b78080614f1f3eb96bd,7b64431,98848080,,,2009-05-31,ide.c: make names more regular
0badeaa29fa6bd7e72e460f4c4c68d57fec8e388,c47bc4f,98848080,,,2009-05-31,bio.c: use struct like icache does
f12551b5996ae6121d33afc94002ce6f7c64dcfd,0badeaa,98848080,,,2009-05-31,"inode reuse bug.

Suppose an inode has been used and freed.
It is left marked I_VALID (the bug).
Now ialloc comes along and reuses the
inode.  It writes the new inode type to disk
and returns iget(dev, inum) to get the
cache entry.  Iget sees that the inode is valid
and doesn't bother refreshing from disk.
Now when the caller iupdates, it will write
out a zero type and the file or directory has
disappeared."
13ae8808c4ebb1c2a48abad1d16428042d943e0e,f12551b,98848080,,,2009-05-31,tidy fs.c; bmap callers always expected allocation
ce72cadbe075ebe8ab9a2c8fa826277431504e9b,13ae880,98848080,,,2009-05-31,fix bug fix
7f399ccaa4fb14527238be333fab207ae3a57856,ce72cad,98848080,,,2009-05-31,use ftable like btable and itable
f3685aa391431d5eafbc918e1d143dd731c64787,7f399cc,98848080,,,2009-05-31,simplify
90bab90832d1f3863d8345bcc2a2e5f59c270af8,f3685aa,98848080,,,2009-05-31,exec sanity check
949e55902bb0c976f74b5217b82deac65ff8d781,90bab90,98848080,,,2009-05-31,"usys.S: put before init.c, STUB -> SYSCALL"
34295f461a416e40bb76e67c568a761222dc6913,949e559,98848080,,,2009-05-31,"group locks into structs they protect.
few naming nits."
27ff8f0e6f56e5f84688bcd41a7b4018b4e61173,34295f4,98848080,,,2009-05-31,compile fixes
8b75366ce4ae7ad5f77225b247d097955574ba0b,27ff8f0,98848080,104030,104030,2009-07-12,"s/IRQ_OFFSET/T_IRQ0/: it's a trap number, not an irq number.
move the SYSCALL number up, so does not overlap the IRQ traps."
887f19686cf377db55953dac651ca8147c268092,8b75366,98848080,104030,104030,2009-07-12,bootasm cleanup
2de1c550cab8a5812dc9965313fce00816a003eb,887f196,98848080,104030,104030,2009-07-12,"trap cleanup

IRQ_OFFSET -> T_IRQ0 (a trap number not an IRQ number)
T_SYSCALL 0x30 -> 0x40 (move out of IRQ range)"
f9a06440ab746256ecbf9fccdb251487cb2c29f7,2de1c55,98848080,104030,104030,2009-07-12,rearrangements and cleanup for text
b8912d999f918bd755699099a339d193eb593e8b,f9a0644,98848080,104030,104030,2009-07-12,mmu.h: unused SEG_NULL
b121486c3fa2eb3c8e57fe2ae9ec0f7357da1fc1,b8912d9,98848080,104030,104030,2009-07-12,spinlock: rename parameter lock -> lk
2c5f7aba38f8e7207a81fdef36d7720bda9dc4e5,b121486,98848080,104030,104030,2009-07-12,"initproc, usegment, swtch tweaks"
7fff3131baabc583cb3dd7d1c91f549ce6eec3cd,2c5f7ab,98848080,,,2009-07-12,test commit email
ee1e68266304b925d0384bf59d1d1521ef22870d,7fff313,98848080,,,2009-07-12,undo
00e571155ce6f836a7f78e7a725c1b3de7868b5a,2c5f7ab,98848080,104030,104030,2009-07-13,more doc tweaks
d42cbd75b2921d881d133016b5e6dc3e85f89f1a,00e5711,98848080,104030,104030,2009-07-13,merge
4ed996f552cac7fc6e9713355bdd36e303c76b72,d42cbd7,98848080,104030,104030,2009-07-13,strip //DOC comments during printing
fd8e3681010b2beea2f409038b5936831c9c8d50,4ed996f,98848080,104030,104030,2009-07-13,remove //DOC in the right place
b3bebfce8a790975ba941d346e6bcff1b5afecf9,fd8e368,98848080,104030,104030,2009-07-13,exec tweaks
0aef8914959af9e472852611eb6352c211093d35,b3bebfc,98848080,104030,104030,2009-08-08,"shuffle and tweak for formatting.
pdf has very good page breaks now.
would be a good copy for fall 2009."
48755214c9a02d6249caf3126d3b41d67eda4730,0aef891,98848080,104030,104030,2009-08-31,"assorted fixes:
 * rename c/cp to cpu/proc
 * rename cpu.context to cpu.scheduler
 * fix some comments
 * formatting for printout"
45a978263651815caf7d0741201175c8969c2cc3,4875521,98848080,828308,828308,2009-09-02,fix bootblock build with gcc 4.4
57ae146362df2350737e5194ca81d925b9466124,45a9782,98848080,,,2009-09-02,Fix TLS for PIC systems
f8ab2079cda8fc89f576b3b78a23a9c62891d74d,57ae146,98848080,,,2009-09-02,"fix TLS again;
still not quite but a lot better."
374362c55c7e1268ce6c52b029458ef22144c114,f8ab207,98848080,,,2009-09-02,lapic: disable microdelay because it makes Bochs slow
7e0cc8e36ea91d0299f375f3b3476ab58ab71dde,374362c,98848080,,,2009-09-02,"another attempt at cpu-local variables.
this time do it ourselves instead of piggybacking on TLS.
add -fno-pic to Makefile; pic code breaks our fake TLS."
d26025d12463a902133bdc5b60d377d473294a8d,7e0cc8e,98848080,,,2009-09-02,can set just %gs now.
c9ee77b8a20e63663b6ffa35b81f8164fefd319a,d26025d,98848080,,,2009-09-03,formatting tweaks
c51e175bf06862150643e2746056171500e0b928,c9ee77b,98848080,,,2009-09-03,new pdf
568bbae801dcde879a3738d482ed2b0570875c6c,c51e175,98848080,,,2009-09-15,qemu-gdb target and script
37ba1c1ea602a9e68b75bb736f4b1d1779eb0567,568bbae,98848080,,,2009-09-15,ignore .gitignore
01b667e45d87a788e8029091a43d96d707f52402,37ba1c1,98848080,,,2009-09-15,rev3
8252f6287d51731d96a4d4b539ab8b57bb1b06b2,01b667e,98848080,,,2009-09-15,add uart.c
074ac7ccd43c08d01a237ce6f14cac10715a51ef,8252f62,98848080,,,2009-09-15,add .gdbinit.tmpl to dist
ccd980bedfcff49ec75cfda4e631b54f0a69bf82,074ac7c,98848080,,,2009-09-21,nit in comment
01396b3a8787d3b6e694675d3f28ddbc90f6b832,ccd980b,98848080,,,2009-09-21,"xv6 runs the console on the serial port, not the parallel port"
67f7909fe113d1e91cbafeaf3377da813cdcd382,01396b3,98848080,,,2009-09-21,Use the symbol file
3adc415471c8b53ef024cde0846c206372cbf04e,67f7909,98848080,,,2009-09-21,Hack to make newlines on the serial port work
bab819ed8d77abe65ea16945f42e76b3d4d1ff8b,3adc415,98848080,,,2009-10-01,Be consistent with JOS make targets
29d8c2eebbce0274a50558bffc94099083a2cb16,bab819e,98848080,,,2009-10-01,Handle backspace on serial input and output better.  Better solutions are welcome.
77a9aa55cd0c18ef33ebfa484b534511af4af53d,29d8c2e,98848080,,,2009-10-05,Record debug info for assmebly code
6639ce56d986cdae197e4f013dde536178ad23f8,77a9aa5,98848080,,,2009-10-07,Provide memcpy for compatibility with older versions of gcc
2c536bff67ed209b1c5aa3d40e40731813bfcd9a,6639ce5,98848080,,,2009-10-07,"Remove memcpy prototypes at Russ' request to prevent code from calling
memcpy directly."
fb4868745cd9c8224e1d93066d0b4f4539be5689,ccd980b,98848080,,,2009-10-07,fine tune comment
ab777a9ad0355e6df16ee53bad348d5fbb1f347f,fb48687,98848080,,,2009-10-07,fine-tune comment
aaf63e62d763216448854bc6f921943a5140462e,ab777a9,98848080,,,2009-10-07,Merge branch 'master' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6
745e73cd3da656b9f115abb1b92df3aa8ef88e98,2c536bf,98848080,,,2009-10-25,Comment typo
d6cd7d0804c774ddafed204f577e274ad6d81aa3,745e73c,98848080,,,2009-10-25,Merge branch 'master' of git+ssh://am.lcs/home/am0/6.828/xv6
f4c12f116d328c0b56eabac327a9cc4882c57128,d6cd7d0,98848080,,,2009-11-23,"Add the test we used in lecture to creash the IDE system when the
locks were moved around."
b0170c4b821aaeffd7775597d1e35f201e1508ba,f4c12f1,98848080,,,2009-11-23,GDB utilities
5e710e688ee946ba2557bb0c924063105ff7a99b,b0170c4,98848080,,,2009-11-23,Add stressfs and gdbutil to dist
7d7465a8581e672b073b3cbf83f1460cb86aed16,5e710e6,98848080,,,2009-12-01,"8ae0 instead of 8e00, thanks yandong"
5d142a707d3ea2745c892165738b79f028810d28,7d7465a,98848080,,,2010-02-06,point at rev3
b7a517f2277670e156f150ee2cb7aae6426c6aef,5d142a7,98848080,,,2010-02-06,another rev2 -> rev3
40889627ba50db29a64bc6a1553c2b21e6a99b78,b7a517f,98848080,,,2010-07-02,Initial version of single-cpu xv6 with page tables
74c82bc1584dda4cee6b0788055a52c32a10b2e0,4088962,98848080,,,2010-07-02,nits
4714c20521a047fba652854e5bf59158b5d85a4e,74c82bc,98848080,,,2010-07-23,"Checkpoint page-table version for SMP
Includes code for TLB shootdown (which actually seems unnecessary for xv6)"
b364c4b88156919949aa6f3c805efae009e7459b,4714c20,98848080,,,2010-07-23,"oops, vm.c"
af03ab142de8c68ad56a829e39e8faee9db252d3,b364c4b,98848080,,,2010-07-23,"a few nits
passes all tests on two-processor smp"
30f5bf054856805b69ef2c5a7485c8d2fecc7098,af03ab1,98848080,,,2010-07-26,some cleanup
de40730dad816ab576f64bf02041bcf812c929e9,30f5bf0,98848080,,,2010-07-26,more cleanup
b738a4f1a2dd2956123a734327aeaf9d09b5faca,de40730,98848080,,,2010-07-28,kill TLB shoot down code
eb18645f17877de4ced951eed5abac61bdfcd5c5,b738a4f,98848080,,,2010-08-05,"fix allocuvm() to handle sbrk() with non-page-granularity argument
(maybe this never worked, but it works now)"
2cf6b32d4dbc915f5d3b2d7b0e382c0ad20299be,eb18645,98848080,,,2010-08-05,"move jkstack to main.c
replace jstack with asm()s"
c99599784e950169d85bf1e4446e7dbfb1a40f59,2cf6b32,98848080,,,2010-08-05,"remove some unused vm #defines
fix corner cases with alignment when mapping kernel ELF file"
1afc9d3fcaa7c5992659bb8b69f639b746dda2bc,c995997,98848080,,,2010-08-06,"add some comments
find out the hard way why user and kernel must have separate segment descriptors"
c4cc10da7ef6d65f0f654445e0af35b8309f16c2,1afc9d3,98848080,,,2010-08-06,"fix corner cases in exec of ELF
put an invalid page below the stack
have fork() handle invalid pages"
83d2db91f75460e1275d67847adec0fca5a9800b,c4cc10d,98848080,,,2010-08-10,allow sbrk(-x) to de-allocate user memory
789b508d538e6faf635e49f268a4f1f9e9b65f05,83d2db9,98848080,,,2010-08-11,"uptime() sys call for benchmarking
increase PHYSTOP"
d87f51c5a1c5e7a2a3ba111b1052a297f4f96fb0,b738a4f,98848080,,,2010-08-26,add vm.c
d55b2fac074ac23e30c337014f40ae2156b31b60,d87f51c,98848080,,,2010-08-26,Merge commit 'origin/page' into page
5ab868fd905c68a6fc934d2c2df514c9efae6598,789b508,98848080,,,2010-08-30,set only PG and WP in vminit; the rest don't seem to be needed and are confusing
8d8d6c7be31a4fe8aaff131ad72e271e14202b35,5ab868f,98848080,,,2010-08-30,we don't need CR0_WP
4d972493b66d4841c135cf56414f9f54bac948bc,8d8d6c7,98848080,,,2010-08-30,no more xv6.pdf .ps
ac090078c63c9b467fd723f6bb7f949c05e9b04b,4d97249,98848080,,,2010-08-30,xx
979c5686b7a0960e599916f93ea06476e9f25764,ac09007,98848080,,,2010-08-30,Merge remote branch 'origin/page' into page
3c9ff073e09abf15f241aa1812e04d8587c9925d,979c568,98848080,,,2010-08-30,oops ended up with 2x vm.c
fe4623b99c012dc9c9730f59ad701ed279bfd68a,b7a517f,98848080,,,2010-08-30,"Fix for gdbstub argument change in qemu 0.11.  Rename qemu-gdb-nox target to qemu-nox-gdb because you frequently want to add the gdb part, but rarely the nox part."
81b30b14d6925a0f5c9eb114724457d90869949c,3c9ff07,98848080,,,2010-08-30,Merge remote branch 'origin/master' into page
156b307e28c52597fddea68baa5ca1f052520657,d55b2fa,98848080,,,2010-08-30,Merge branch 'master' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6 into page
791d81cadeb3b30ad6ec67c61086c6747f3d5ca2,156b307,98848080,,,2010-08-30,Merge branch 'page' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6 into page
7d7dc9331bf33f77c9c3a71350782dadae8dd371,81b30b1,98848080,,,2010-08-31,"kalloc/kfree now only a page at a time
do not keep sorted contiguous free list"
9acdfe0d04f3fcf95c6e392e08afb45bdfe16c20,791d81c,98848080,,,2010-08-31,Merge branch 'page' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6 into page
0f0456ec53d2739282eccf62b22f7c933d7cbae5,7d7dc93,98848080,,,2010-08-31,"Infer TOOLPREFIX, just like in JOS"
1e8035be535781e2b317881ab421ac33c7de0299,0f0456e,98848080,,,2010-08-31,"Infer qemu path, just like in JOS"
880ee18ab14477b669a6b95707721322bfe086c1,1e8035b,98848080,,,2010-08-31,mkfs must be compiled 32-bit.  Fix mkfs warnings
8d774afb2d45592d85725474a704ac99b0624d2c,880ee18,98848080,,,2010-08-31,"no more pminit, or ELF header at 0x10000
kinit() knows about end and PHYSTOP
map all of kernel read/write (rather than r/o instructions)
thanks, austin"
1aee6a6c4f1227dd4737ba5c88306acfba893828,8d774af,98848080,,,2010-08-31,"Hopefully get the printf size spec right, regardless of compiler."
7b814133e42568b2eca3362731cc0968f6e034b0,1aee6a6,98848080,,,2010-08-31,Acknowledge patches
04be8fb232ef0f1f52444b0e513a9a256c5a031f,7b81413,98848080,,,2010-08-31,Rebalance TOC
7472b2b451f100162fa4542f5bfe260385f861ad,04be8fb,98848080,,,2010-08-31,Fix too-long lines
37ee75f42e9d35a96b84fe0c95479178cd41efac,7472b2b,98848080,,,2010-08-31,Rearrange for better page breaking
92639b6ba95d1d960a9e808c7163f6d171b2e4a3,37ee75f,98848080,,,2010-08-31,Follow xv6 code style.  Also fixes indexing for these functions
b5592b4d2f0ea5f536b206979f829038c55d7ade,92639b6,98848080,,,2010-08-31,Start PDE defs on new page
7914ab721436d3c21623010dfab2dc326bf49279,b5592b4,98848080,,,2010-08-31,Page breaking of mmu.h
29c054df817d55ae6e0fc3bd4c9e2343a2b4ca75,7914ab7,98848080,,,2010-08-31,"We don't use lesp/lebp and using them at all from C would be fraught with peril.  Keep resp/rebp, but fix their code style."
51e2a7b324020a90bf963d514a0959d930120d71,29c054d,98848080,,,2010-08-31,print depends on runoff.spec
c7ceb71d5757db21a2228ec33bde2f4da1677094,51e2a7b,98848080,,,2010-08-31,Sheet 1 is a right page now because of the (much) longer cross-ref
6a6bf37c3c3dcab6f464d031bf94c56a770b6df6,c7ceb71,98848080,,,2010-08-31,"Swap bootmain.c and bootother.S.  This puts the whole boot process on one spread, though it separates the two asm files."
fd462b6a01735cc7a14b9cb11c99242c5ed03c03,6a6bf37,98848080,,,2010-08-31,Got the meat of spinlocks on one spread
13b3f4d2e32eee81ba039ad3c6a6c97bfc9d4638,fd462b6,98848080,,,2010-08-31,Make it possible to express half-page preferences
87b2099ae44039b119267d41a710a56b4784dbe0,13b3f4d,98848080,,,2010-08-31,"Our proc.c alignment is perfect.  Since ksegment/usegment went away, we get a column back, so we get our two action-packed spreads."
5048762c7e27789a014cc1e74e1002e749c924ce,87b2099,98848080,,,2010-08-31,Page break kalloc.c
3597d5dc704c192a85b9902f7264fe9025aad277,1aee6a6,98848080,,,2010-08-31,oops. last minute simplicifaction to kalloc().
23c3e52c2fb5f1709bf5053a8e93161931b56bf9,3597d5d,98848080,,,2010-08-31,Merge branch 'master' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6
dd645ef11911596d73d128c1da53579678c56aee,5048762,98848080,,,2010-09-01,Cleanup if allocuvm fails to alloc.  Add a test.
ba04b3e70e4f1916c777d62de53088d96b09579f,dd645ef,98848080,,,2010-09-01,Fix similar leak in copyuvm
5c4dc7395b75d8b41c1104fe59a0d14d81a8a428,ba04b3e,98848080,,,2010-09-01,Merge branch 'master' of git+ssh://am.lcs/home/am0/6.828/xv6
5efca9054f1911e206831e16c2ca5ac8c8fc7c12,5c4dc73,98848080,,,2010-09-01,Tab police
b0751a3e9bfce88cb07c1a540ceabf21f2d53b31,5efca90,98848080,,,2010-09-01,Space police
41c4bbb505f4389a5c1660b407cd4073d7a72aab,b0751a3,98848080,,,2010-09-01,Make it easy to change the number of CPUs
b1d41d678888fd1a51e4844ab583f7c47f9fb218,41c4bbb,98848080,,,2010-09-01,"Remove the stack guard page.  Processes are now contiguous from 0 to proc->sz, which means our syscall argument validation is correct.  Add a pointer validation test and remove the stack test, which tested for the guard page."
d3ecf3eb44379f12b47da9d08e4d1b52cf7c2601,b1d41d6,98848080,,,2010-09-01,"Slight simplification of copyuvm.  We could simplify other things now that processes are contiguous, but we'd have to think harder about the error paths."
4d245c79f989aff781a50c855d254b813639ee90,d3ecf3e,98848080,,,2010-09-02,Add Nickolai and myself and scrunch two lines out of the text elsewhere
1280d2680274cf44aa1a9531f06f7699d1f9051f,4d245c7,98848080,,,2010-09-02,"Oops, missed a comment about the stack guard"
0fa1ab632f6e328321cdec779e66ed07cac89d04,1280d26,98848080,,,2010-09-02,Pack five columns into cross-ref.  This saves us an entire page and fixes the single dangling line.
9d7a63e0734b4c7abe5ae00eda302e7d7a22a482,0fa1ab6,98848080,,,2010-09-02,"Specify in runoff.spec which side sheet 1 is on, since it keeps changing"
d2c7f6497810f05b961df11db75def7ea79b8ec2,9d7a63e,98848080,,,2010-09-02,"I totally misunderstood the even/odd spec.  Add some docs, remove my 'left+' hack, and orthogonalize left/right versus even/odd so you can specify them independently."
dd3ecd42cd6c8dee72e5212848cd8037d47f81dd,d2c7f64,98848080,,,2010-09-02,"Re-re-arrange bootasm and bootother.  We can't get bootasm and bootmain on the same page, but this will make them easier to flip between."
d8828817d72962a6220cb1fca315cab4bbf6d0a3,dd3ecd4,98848080,,,2010-09-02,"Rearrange proc.h and proc.c to get our action-packed spreads back (mostly).  They also make sense in this order, so it's not just for page layout."
d599aa2e40fc116d84c609358a9fdc51824b621d,d882881,98848080,,,2010-09-02,Remove unused nop_pause function.
c7c21467c3d3c9f2a04d6fac3b8ef796470b0448,d599aa2,98848080,,,2010-09-02,Oops.  Broke the build when I rearranged proc.c
b3cfd7fc372424d754f5478c93f6fbe756d9c80f,c7c2146,98848080,,,2010-09-02,Simplify freevm using deallocuvm
f53e6110bed159c8541c6e0d2fc1b1ffac2d141a,b3cfd7f,98848080,,,2010-09-02,Simplify inituvm and userinit by assuming initcode fits on a page
f25a3f9a41de02116c39b0e65243d111e1cb1026,f53e611,98848080,,,2010-09-02,Rearrange vm.c so it's in logical order and prints nicely.  Shorten a few functions in uninteresting ways to make them fit.
93a1e4cb07e329dc9550643f7fe8430da547497a,f25a3f9,98848080,,,2010-09-02,Fix comment capitalization
9a4670a138f7ab25062195be2f4d42403dddc077,93a1e4c,98848080,,,2010-09-02,Comment inituvm and loaduvm
d49d31381df93b40c1c4bc18c97ca42c3256e414,9a4670a,98848080,,,2010-09-02,Nits
79cd8b3eedeb1f85d3b19fb6119bd5224c4c532a,d49d313,98848080,,,2010-09-02,Simplify allocuvm/deallocuvm to operate in a contiguous memory model.  This makes their interface match up better with proc->sz and also simplifies the callers (it even gets the main body of exec on one page).
5bf11c50b512f06fd96675ca1ddd9ab1a2cf6fa0,79cd8b3,98848080,,,2010-09-02,Get rid of the blank page in picirq.c.  It misaligs things now.
08eef9eae5989d3a709588352e228041e62e2c2c,5bf11c5,98848080,,,2010-09-02,Get cgaputc and consputc back on the same page
8440dbfee13a5c728c5060af515f9273889a4679,08eef9e,98848080,,,2010-09-02,Get consoleintr back on one page
588644f4728e2707138628c62469ba4eeebe18e9,8440dbf,98848080,,,2010-09-02,Consistent style in defs.h
cc21c06e3b610951d4b870b90083f7f502388252,588644f,98848080,,,2010-09-02,Update example in TOC footer
124fe7e457c0dc9b671c7ffccb56004eb61da4f0,cc21c06,98848080,,,2010-09-03,Rev 4
faad047ab22cbe989c208bff5ecb42608ecb8d7b,124fe7e,98848080,,,2010-09-13,"change some comments, maybe more informative
delete most comments from bootother.S (since copy of bootasm.S)
ksegment() -> seginit()
move more stuff from main() to mainc()"
4c274cef7425614e328eb2127362d36b203543a8,faad047,98848080,,,2010-09-15,Simplify boot loader by removing some JOS'isms
4587b35847b116057e3ef1058da914b8837ff343,faad047,98848080,,,2010-09-19,exec questions
05d66b06294df89ba3d5b8f6cf535f7edf00bd1f,4587b35,98848080,,,2010-09-19,"my comment is wrong, exec handles BSS fine"
26d11ee8dc60fed78c8b34d15670eb6640d92129,05d66b0,98848080,,,2010-09-19,Merge branch 'master' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6
a9183883b88bfccd1c6a62e27621b2c892d50b67,26d11ee,98848080,,,2010-09-20,map kernel instructions r/o
4655d42e3b65f906eae8c815fb78331790f6e423,a918388,98848080,,,2010-09-27,"copyout() copies data to a va in a pagetable, for exec() &c
usertest that passes too many arguments, break exec"
06feabeceeccc8dbd2658e9f10dd139c14f01ba6,4655d42,98848080,,,2010-09-27,"check exec() arg length
fix double iunlockput"
2ea6c764c34d3025b5f3121a0919fda7d1eb9b01,06feabe,98848080,,,2010-09-29,even more fabulous exec
e92fd6142de05627096a1e831140e5bd355e45be,2ea6c76,98848080,104030,104030,2011-01-02,mkfs: avoid out of bounds access to sb in wsect
240679608cd46649d1144408f28f83141f9f3a86,e92fd61,98848080,104030,104030,2011-01-10,mkfs: avoid clash with system struct stat
1a81e38b17144624415d252a521fd5a06079d681,2406796,98848080,104030,104030,2011-01-11,"make new code like old code

Variable declarations at top of function,
separate from initialization.

Use == 0 instead of ! for checking pointers.

Consistent spacing around {, *, casts.

Declare 0-parameter functions as (void) not ().

Integer valued functions return -1 on failure, 0 on success."
af6a6a477531aefa6e961c464de495e0c09af673,1a81e38,98848080,104030,104030,2011-01-11,mp: do not panic on surprising hw
89bfdd4db183cbe75a3a0c2254ca48a50e37276f,af6a6a4,98848080,104030,104030,2011-01-11,multiboot support and memory-only (no disk) kernel
417c37115e0c7fc3b2a65c3c4d213e566cbc8807,89bfdd4,98848080,104030,104030,2011-01-11,more trivial cleanup
4fa8614db068e92c2628456df7a7d5483e4afe5b,417c371,98848080,104030,104030,2011-01-11,missing file memide.c
08864affaab14743b59b83f6985dad03545a6d71,4fa8614,98848080,104030,104030,2011-02-19,xv6: link to xv6-rev4
97b21b5838759e71144d02ff554f594c56fe54ae,08864af,98848080,104030,104030,2011-02-19,xv6: refresh from 2010 page
9c4fe7ba105c0430c90179fd1e93c3d439a8cbd5,97b21b5,98848080,104030,104030,2011-02-20,"xv6: formatting, cleanup, rev5"
cf4b1ad90bcaeeb0c8458098c87948f61d408f94,9c4fe7b,98848080,104030,104030,2011-02-20,"xv6: formatting, cleanup, rev5 (take 2)"
688b5c03dd14677d3a74d0dbce199c3d6ad31d63,cf4b1ad,98848080,104030,104030,2011-02-20,updated book pdfs
a6cd7509c4cb30a7d58aa2797dc979daaa795fd0,688b5c0,98848080,104030,104030,2011-02-20,web: rev5
c5f538735191330cc112485548e6dc46317eea83,a6cd750,98848080,104030,104030,2011-02-28,fixes from Peter Froehlich
ae603ff5e79bb7b5eea4147425752f33d29fe558,c5f5387,98848080,104030,104030,2011-02-28,"rebuild xv6-rev5.tar.gz

does not affect line numbers"
f70ef994dce8f6948edec8c534ae21742141dd50,ae603ff,98848080,,,2011-04-28,Russ's fix for panic remap
96b7da5f03e8fd1722cb66ef3cb7fcc02d703860,f70ef99,98848080,828308,828308,2011-06-24,"do not run past the end of the disk!
[ cherry-picked de6075ff0978108daea1d658425bcb37663a98a0 ]

Conflicts:

	fs.c"
97657d703f7a92a088b400980c17249f34640a5e,96b7da5,98848080,,,2011-06-24,"Add -fno-omit-frame-pointer to compile flags.

At some point between gcc 4.4 and 4.6, omitting the frame pointer
became default if any -O is specified.  getcallerpcs relies on the
frame pointer, so bring it back."
13a96baefc0ff5d8262c4bc8c797bee4b157443c,97657d7,98848080,,,2011-07-28,"Dirt simple logging
Passes usertests and stressfs
Seems to recover correctly in a number of simple cases"
dccb915282854476ce47752df6631dcce3b8f661,9acdfe0,98848080,,,2011-07-28,Merge commit 'origin/master' into page
9aa0337dc1452a911ac52698c833246a618fc9f3,dccb915,98848080,,,2011-07-29,"Map kernel high
Very important to give qemu memory through PHYSTOP :("
547c28fc1e0cd834b2f1ab56a5c74e6b7839c582,9aa0337,98848080,,,2011-08-01,"Don't map IO space in the user part of the address space
Passes all tests now (but need to update usertests to allow for more than 640k)"
67d4254d15313ce24ef37c6e92b4630211c2229b,547c28f,98848080,,,2011-08-07,oops
6479766334c6eb6ff9325ffa097dc6aece9e7af9,67d4254,98848080,,,2011-08-08,"Adjust sbrk test for large user address spaces
All tests pass"
11b7438b1046eecca6135b52ddbe686008099fa5,6479766,98848080,,,2011-08-08,Speedup sbrk tst a bit (forking 100Mbyte processes is slow)
a56c8d609b24e4c1c3a8a5bacdced6ae53376ee2,11b7438,98848080,,,2011-08-08,One definition of several macros and constants
b23d8329e7df6cf47b7d20fb19664496b4f29ca4,a56c8d6,98848080,,,2011-08-09,"Allow gas to use / as divide (instead of comment)
Maybe not necessary, but don't want to waste time figuring this out again"
3a038106431314c85a5950c473b113a7037ac1aa,b23d832,98848080,,,2011-08-10,"Use kernel virtual addresses for BIOS memory, etc."
66ba8079c7e376c189ccb3367b8d13825141b8ec,3a03810,98848080,,,2011-08-10,"Use static page table for boot, mapping first 4Mbyte; no more segment trick
Allocate proper kernel page table immediately in main using boot allocator
Remove pginit
Simplify address space layout a tiny bit
More to come (e.g., superpages to simplify static table)"
832af025a364732d2784e64fa74e516f6c2f3b0c,66ba807,98848080,,,2011-08-10,Remove jmpkstack
5460667c9cf89f1c728e9af117e9978fcec8fd8d,832af02,98848080,,,2011-08-10,x
22c73411ca8d2766469218175715b1f7cc3d0ede,5460667,98848080,,,2011-08-10,Shorten boot assembly
8a9933a20031bcdc34f360d23a29c87f8335fd12,22c7341,98848080,,,2011-08-10,Tiny bit of cleanup
673b739d314b77532f0c60d0eaed4b518b912694,8a9933a,98848080,,,2011-08-10,One more low address
bd71a45046eb13797284216c43353b9b6c92f18c,673b739,98848080,,,2011-08-11,"Make AP processors boot using bootpgdir
Remove device mapping from bootpgdir
Remove unnecessary vmenable
Set CPUS back to 2 in Makefile
Passes all usertests"
e577a62f0dc5a1b22ac5687204ec720bb4d8a367,bd71a45,98848080,,,2011-08-12,Some comments
2e59046362f532748711b9acaceee1cda969cc50,bd71a45,98848080,,,2011-08-12,"log write() data
usertest for big write()s
push begin_trans/commit_trans down into syscalls"
e0d1ba0d7470f84b94c6eedbf220152a805881a7,2e59046,98848080,,,2011-08-12,Merge branch 'master' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6
c95ce31c5978bd43e1f0d34e51a4e3d7bcc41b14,e0d1ba0,98848080,,,2011-08-12,Oops
c60a3551c2dba29006f5d7917308281e47fa5fef,c95ce31,98848080,,,2011-08-15,"Separate more clearly bootloader from xv6 by renaming multiboot.S to entry.S etc.
Maybe the string boot shouldn't appear in xv6 code?"
5053dd6a6d2b481bfcddbd91bacc885b9f0e0ff5,c95ce31,98848080,,,2011-08-15,avoid deadlock by calling begin_trans() before locking any inodes
7f1718ca33fb333435b05cd9a0541e6e3b9b7249,5053dd6,98848080,,,2011-08-15,Merge branch 'master' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6
843eecfcd0c23f2b9466e5c3289c1819950ccb47,7f1718c,98848080,,,2011-08-15,"Only commit log to disk if something was written in to it.

Without this, every write to the console results in log writes."
944964685325aa63a59e5e84d8fd0ba5af45ec8c,843eecf,98848080,,,2011-08-15,Use 4Mbyte pages during boot
a4b213cf49cccc8287e638badaac10d0521d5886,9449646,98848080,,,2011-08-16,"Avoid ""boot"" in xv6"
d9818bdd7d0c3524c51462e6405d7ca9bdaa5411,a4b213c,98848080,,,2011-08-16,"Make Austin happier
2011"
eeea49e8d5a0780012ae31fb7285300241aa03b3,d9818bd,98848080,,,2011-08-16,Update list of files to include in printout
427958cb71e485cec4e7c68b280b506e555dd8e0,eeea49e,98848080,,,2011-08-16,Update make clean
c3dcf479663bc1bc9144c39ba2dd7607ea9c1c52,427958c,98848080,,,2011-08-16,"Clean up memlayout.h
Get rid of last instances of linear address and ""la""
Get ready for detecting physical memory dynamically"
5f069dcf2f9d833a6c4f58ed87269d61c6abb687,c3dcf47,98848080,,,2011-08-17,"Switch back to #define for PHYSTOP.  Using the E820 to retrieve the memory map is too complicated (must be done in 16-bit real-mode, probably enlarged bootblock beyond 512 bytes, and a #define requires less explanation)."
fa81545f1c15630573dc1d312fa75f261f82b9f1,5f069dc,98848080,,,2011-08-18,Make elf proghdr fields match what objdump prints
cd3d739e6f3d4d356ac8c34b25f16df82a5f2789,fa81545,98848080,,,2011-08-18,bootloader reads into a physical address (not a virtual address)
327cc21fba38359c5b7fd4c9f39b1dc00fb4f182,cd3d739,98848080,,,2011-08-19,make dirlookup and dirlink more similar
3682474f779c02419623ae16de49a12da8d23af7,cd3d739,98848080,,,2011-08-22,delete dead code
39f8cc56d30bd1aaf097f17de0c410424c59a3f0,3682474,98848080,,,2011-08-22,Merge branch 'master' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6
d10d324e79bdcd7d7ab57952e6b140009737e868,39f8cc5,98848080,,,2011-08-23,"Remove sys_init syscall
Invoke initlog from forkret on first user process"
194f8bf739d441283c56985017c4a6f1b35a99cd,d10d324,98848080,,,2011-08-23,A comment
6f2327580fe9a5f5b093814126fe7ffc02345407,194f8bf,98848080,,,2011-08-24,Eliminate USERTOP; no use for it.
8a9b6dbd4468f6312f1d07226a623879f970bd4b,6f23275,98848080,,,2011-08-25,Make cross reference with text work
41911afa452750086d81be097572573b27e1ecd6,8a9b6db,98848080,,,2011-08-26,segment register -> segment descriptor
3a5fa7ed9020eaf8ab843a16d26db7393b2ec072,8a9b6db,98848080,,,2011-08-26,"Introduce and use sleeplocks instead of BUSY flags
Remove I_BUSY, B_BUSY, and intrans defs and usages
One spinlock per buf to avoid ugly loop in bget
fix race in filewrite (don't update f->off after releasing lock)"
16f205b5c9de7b49dcff44f2f14377799624083a,3a5fa7e,98848080,,,2011-08-26,Merge branch 'master' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6
a7061b4f9717e85ebedf87244921d37babc5d8f4,16f205b,98848080,,,2011-08-29,Style nits; indentation and tabs
920b7b44b553b228212b0c5913f07614ac958cf8,a7061b4,98848080,,,2011-08-29,dir-locals.el to set style in Emacs
22f7db5336cb20c82eb1ffa45c0ef63825442c95,920b7b4,98848080,,,2011-08-29,Renumber I_VALID since I_BUSY is gone
1ddfbbb194e3aa668b33469eb547132a7a7f940a,22f7db5,98848080,,,2011-08-29,"Revert ""Introduce and use sleeplocks instead of BUSY flags""
My changes have a race with re-used bufs and the code doesn't seem to get shorter
Keep the changes that fixed ip->off race

This reverts commit 3a5fa7ed9020eaf8ab843a16d26db7393b2ec072.

Conflicts:

	defs.h
	file.c
	file.h"
5e083578278e340e0661f2dede68676432269f49,1ddfbbb,98848080,,,2011-08-31,enterpgdir -> entrypgdir
5c292b3d7167022e765c7228b0748cb50ab7d7f1,5e08357,98848080,,,2011-08-31,simplify the end of entry.S
15997d58497f4c716c227787acf9591439e5fe9c,5c292b3,98848080,,,2011-08-31,move the kernel to 0x80000000
e25b74ca8069e340c3f2c267d09beed6d9328250,15997d5,98848080,,,2011-09-01,Fix layout issues for printed version
d0f3efca650eccd5179e045cd07f7d723037defc,e25b74c,98848080,,,2011-09-01,Use stosl in memset; makes boot time bearable
5a236924444db768813d726ae165d263856d8bff,15997d5,98848080,,,2011-09-01,"fix usertests to correctly test what happens when you call
exec() with arguments that don't fit on a single page."
62e3b8a92c6f8840cec8a0db13b2bcad10192b4a,5a23692,98848080,,,2011-09-01,"Merge branch 'master' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6

Conflicts:
	vm.c"
e04329aae8ceff7816569ab663237faedd3e5351,62e3b8a,98848080,,,2011-09-01,Have one definition of kernel stack size
6bb9221395b3bde9af6f5a2c3ccc118c0da2aab8,e04329a,98848080,,,2011-09-01,Fix layout
371ab7fa96f8e439f4008c973c37aa44ab6ed81e,62e3b8a,98848080,,,2011-09-01,"inaccessible page under the user stack page, to help exec deal w/ too-large args"
1eadf4a8fcc34f79075bb61d3546be303745e461,371ab7f,98848080,,,2011-09-01,Merge branch 'master' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6
052e18485d19f26d4182a662054369926d0c4dd0,1eadf4a,98848080,,,2011-09-02,"Skip missing page directories in deallocuvm

Previously, deallocuvm scanned from 0 to KERNBASE in one page
increments, which had a noticable effect on boot time.  Now it skips
over missing page directories."
82bb0b56c62b3595d04e6224a67397f221298166,052e184,98848080,,,2011-09-02,bootother -> entryother in README
cf7b6702934018bfbf6955c3d413ac43024a96ad,82bb0b5,98848080,,,2011-09-02,Make mappages fit on the page
14835ec98749d6d58e43dac3c3c6042482b75a9b,cf7b670,98848080,,,2011-09-02,Style
9e4272c14e98dd702326ee46d8cda6b78708d9d0,14835ec,98848080,,,2011-09-02,"Cleanup comments and fit setupkvm on same page as kmap, which aligns lots of other things"
91aa0f3296ea0b38dd8d008224271639e5d7b53a,9e4272c,98848080,,,2011-09-02,Move copy_pte_u; fits vm.c in one less column and aligns proc.h
2eb214c9dbdd7b7b90997531c171196fc3bd0e9f,91aa0f3,98848080,,,2011-09-02,clear_pte_u -> clearpteu
6f3ca059f22703c212ac1ea59ea298eb1efb6743,2eb214c,98848080,,,2011-09-02,"Oops, dropped a paren"
ce6dd9de27a926e77e275de0287ee36fce93ce7f,6f3ca05,98848080,,,2011-09-02,Correct terminology in kernel.ld
dd4438b4fe934eef3f631238d45b3681a3abdd4d,ce6dd9d,98848080,,,2011-09-02,"Nuke data.S, since we do have a custom linker script."
30c1901a5a6beaac2ede35bb2a7505690bda9590,dd4438b,98848080,,,2011-09-02,Remove unused x86.h definitions
3c01f5a0eda1757f237450a6b9477293a72ef6cb,30c1901,98848080,,,2011-09-02,"Remove data.S from runoff, too"
788e27def26aabcc3aa683769cd9092567bcc02f,3c01f5a,98848080,,,2011-09-02,Fit fs.h in one column
436f657e2d32e4ff0082ef237c1ab3eb77758626,788e27d,98848080,,,2011-09-02,Remove unused headers from log.c
a14c96f825bd06030f82cfe05fbebf9d265f40af,436f657,98848080,,,2011-09-02,Comment balance
ee1b33065cccc798f502a25d2d741c49a86f63a6,a14c96f,98848080,,,2011-09-02,Define struct log separately from log to avoid confusing column breaker
7fb21193b063841d53d56b1a33b7ee455fd2a0ae,ee1b330,98848080,,,2011-09-02,Remove comment debug prints from log.c; now fits nicely in a spread
9bb1e53df5cd77986d126cb7800066b6190d684f,7fb2119,98848080,,,2011-09-02,Add blank page to get our super FS spreads back
4e015d81aabb19d319fa73f2da11cd6b7ca5c2c3,9bb1e53,98848080,,,2011-09-02,Shorten sys_unlink a little; create now fits in column
5a97613bab27b3bf5f94d1ebc815be92f1e1a7c2,4e015d8,98848080,,,2011-09-02,Fit exec on a page.  Again
7d9ee3b833aed336e14a42599b63648317a71845,5a97613,98848080,,,2011-09-02,Fix weird pagebreak bug
e76dab4fd7c30dd97260a554880ad8728fdc1b33,7d9ee3b,98848080,,,2011-09-02,Put filewrite in its own column
c6c0cb82c46fa60c3fd3a3df09d74a9ac36a2b89,e76dab4,98848080,,,2011-09-02,Fix same wonky pagebreak bug in console.c
2a2e6eb13d5565161d48280bb02096af221a5072,c6c0cb8,98848080,,,2011-09-02,Updated runoff spec; everything but ide.c is satisfied
49d64d330e12d2401d01667b97870ed162d96e02,2a2e6eb,98848080,,,2011-09-02,Update index example in TOC footer
e3ab68e031df908cc2c19d56d88900c0413df14c,49d64d3,98848080,,,2011-09-02,Update year in URL
215a9ce237b0610eb2061663aed4b98b8adea33b,e3ab68e,98848080,,,2011-09-02,A few missed xv6.pdf dependencies
549c62cc1caafe4f8ac8b2a40eca6e098d322489,215a9ce,98848080,,,2011-09-03,I can't do math; fix bug introduced in 5a9761
e33873067b805f89a22b74a6295c18edc7dd6f30,549c62c,98848080,,,2011-09-04,"Add QEMUEXTRA environment to add extra QEMU arguments, like in JOS"
68b58727166bbb339f4790ec779a5a16772557f6,e338730,98848080,,,2011-09-04,kernel depends on kernel.ld
2fc6c35b2fd64a15d7c4cc54c9e8733c3632039d,68b5872,98848080,,,2011-09-04,"Make the ELF entry point a physical address

This way, the bootloader doesn't have to translate the entry point.
This also makes xv6 multiboot-compliant and follows the convention
used by Linux."
310edc99feeaba8326defa82804e1976b69d22a5,2fc6c35,98848080,,,2011-09-04,Fix stale comments in entryother.S
87904b01a3513ce3fdcce08eafa5ef546aa5c46b,310edc9,98848080,,,2011-09-05,Update gitignore
b1c66ca8992fabe1ae091ef20013e3e6f50a6016,87904b0,98848080,,,2011-09-05,Sync up clean and gitignore better
79bc8be8de903ff69deb01a3945e52effda5436d,b1c66ca,98848080,,,2011-09-05,Setting indent-tabs-mode nil everywhere is dangerous
5f46b272fe315cf477e45ec8523aba21d10b52e6,79bc8be,98848080,,,2011-09-06,"Shorten history of xv6
Cut section about commentary
Add (failing) link to xv6 source section pointing to the text.
Delete the incorrect/incomplete list of universities using jos/xv6"
861cc158beceb857f5d61a8321379c439ef72bc1,5f46b27,98848080,,,2011-09-06,sources -> sources and text
03f48901f0a6f0785f265d8923ce2c0b3cfa3d42,861cc15,98848080,,,2011-09-06,Note about the meaning of sheet1 in runoff.spec
09b19091631603ef2e8e21e4f6a4109333218b81,03f4890,98848080,,,2011-09-06,Re-alphabetize OBJS
b81aadf093d847075787169576a1111f98d56e25,09b1909,98848080,,,2011-09-07,Remove old book chapters
64a03bd7aa5c03a626a2da4730a45fcceea75322,b81aadf,98848080,,,2011-09-07,Make web page refer to git releases
01a6c054d548d9fff8bbdfac4d3f3de4ae8677a1,64a03bd,98848080,,,2011-09-07,Remove web directory; all cruft or moved to 6.828 repo
5304c854a423be0e718f187d47277b30cb71cbc5,01a6c05,98848080,,,2011-09-07,Move xv6 release tars/pdfs in to 6.828 repo
5c87802de2b1d3fc8c912ab2995760aa8d5b7dbf,5304c85,98848080,,,2011-09-07,"Fetch nice font from font branch, if possible"
8bfcffeae16abf704d21e94e70ae239d740fd771,5c87802,98848080,,,2011-09-07,Remove nice font from master
e64c661ae8b91bd7e858bb1895bef96e6ac2b4bb,8bfcffe,98848080,,,2011-09-07,Rev 6
9b59dc44dca3299321531900254d71dddd87a476,e64c661,98848080,,,2011-09-07,Remove unused 'state' variable that broke the build in recent gcc's
90a81b32285ed8d9644b95777c1bc0c931cb69c5,9b59dc4,98848080,,,2011-09-12,comment nits
7e7cb106d0b2408794d814ae26ee945bdb83886a,90a81b3,98848080,,,2011-09-13,more regular kmap[] and description
c092540e396ae748e3775e582681e51abd94f41d,7e7cb10,98848080,,,2011-09-13,eliminate enter_alloc -- use kalloc for everything
1e6f0146d2e194045188ba24826eaaaee05605cb,c092540,98848080,,,2011-09-14,Use | instead of + for entrypgdir.  Linker doesn't get in our way here.
9b972c06b172531e5792fc0e05d83319d325e0ee,5304c85,98848080,,,2011-09-27,Update stressfs to trigger race now the logging code serializes writes
0ca1c0407d3da826ad8415e3204e1c53e394e204,9b972c0,98848080,,,2011-09-27,Merge branch 'master' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6
d73dd097a529bc9d13f514ae6884c4d96a0fffa8,0ca1c04,98848080,,,2011-09-30,Fix compile error on newer gcc's
a5fbfe418abd9bdb876407a73b479cdc39046e9a,d73dd09,98848080,,,2011-10-11,clarify some FS comments
38eee5bca75cc16d40101953bc2003bb77d452e7,a5fbfe4,98848080,,,2011-10-11,more FS comment clarification
12abb1a56164a0d71fb7a76a465c912409f2f60b,38eee5b,98848080,,,2011-10-14,don't let dirty blocks be evicted from cache!
9d59eb015141697da616a4b98ac27cf4269cd780,12abb1a,98848080,,,2012-02-18,"Make fetchint and fetchstr use proc instead of taking a struct proc

Previously, these were inconsistent: they used their struct proc
argument for bounds checking, but always copied the argument from the
current address space (and hence the current process).  Drop the
struct proc argument and always use the current proc.

Suggested by Carmi Merimovich."
b08d16f61d0022cb908f35a27efa100caf27dcf6,38eee5b,98848080,1111495,1111495,2012-08-23,Fix from Peter Froehlich
70c555574a140b2696d6f1a5aa524902ef4c820c,b08d16f,98848080,1111495,1111495,2012-08-23,Remove unused argument from lapicinit (thanks to Peter Froehlich)
4ce832ddd280a4cea36e16115ddeaea74213314e,70c5555,98848080,1111495,1111495,2012-08-23,Remove unused argument to setupkvm (thanks to Peter Froehlich)
432acbaf9e8817e16026bfcaaa8bca0ba7c8a6f8,4ce832d,98848080,1111495,1111495,2012-08-23,Merge branch 'master' of git+ssh://amsterdam.csail.mit.edu/home/am0/6.828/xv6
95692c4a8cf38765bac15b05d7a898e4ac8946e8,432acba,98848080,1111495,1111495,2012-08-23,"Remove left-over from some logging plan making complete syscalls atomic
0 is not a system call (thanks to Peter Froehlich)"
c2d393df13cd14762af650c78a7c960b820c4660,95692c4,98848080,1111495,1111495,2012-08-23,Decode getcallerpcs() (thanks to Peter Froehlich)
f3f4b0fd88fd06df515a332ec68b34efa8616e12,c2d393d,98848080,1111495,1111495,2012-08-23,chmod +x
